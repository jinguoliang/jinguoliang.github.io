---
title: 每天一点点音视频_Surface
date: 2020-04-09 09:33:09
tags:
- Android
- 音视频
- Surface
categories:
- 音视频
---

这是一个大问题， 可能一个问题能不能完成并不在于它是不是很大， 而是能不能将它分解成小问题，再就是排期，一个大问题，可能需要一个月，却排了一天，那结果肯定是失败。问题是如何排期呢，排不准呀。我打算避开排期的问题，因为对于我来说，一个问题之所以成为问题，是因为有很多未知， 有未知就没法排期。但是我可以每天一点点，探索这个问题空间，我的目标是解决这个问题，不在乎花多少时间。而每天有一点补充，我相信一定能解决这个问题，或者说接近答案。

## Surface 是什么

想想现在 Surface 的使用，好像就只有用 Surface(aSurfaceTexture), 然后将它给 OpenGL， 创建一个 EGLSurface， 然后就是对 EGLSurface 的操作了。

正如文档所说： Surface 通常来自（Image Buffer）的消费者，如 SurfaceTexture， MediaRecorder， Allocation， 然后被传给数据生产者，如 EGLSurface， MediaPlayer， Camera。Surface 表现的像一个对消费者的弱引用， 保持消费者不被回收。

文档还说： 它是一个句柄，用来引用被 screen compositor 管理的 raw buffer， 这就完全不知所云了， 牵扯到底层框架了吧。

[这篇文章可以](http://www.360doc.com/content/19/0927/10/8335678_863480139.shtml)
[不过还是官方文档讲的明白](https://source.android.com/devices/graphics)

本想来个系统的文章， 找了个太大的概念， 还是细水长流吧， 坚持每天一点点。

明天： 每天一点点音视频_Graphics