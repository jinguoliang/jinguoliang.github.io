<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>空谷之兰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="所有思绪尽归空无，味留一丝芬芳便是兰">
<meta property="og:type" content="website">
<meta property="og:title" content="空谷之兰">
<meta property="og:url" content="https://jinguoliang.github.io/page/6/index.html">
<meta property="og:site_name" content="空谷之兰">
<meta property="og:description" content="所有思绪尽归空无，味留一丝芬芳便是兰">
<meta property="article:author" content="金国梁">
<meta property="article:tag" content="技术">
<meta property="article:tag" content=" 随想">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="空谷之兰" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">空谷之兰</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">思绪肆意流淌之地</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jinguoliang.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-kiss" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/kiss/" class="article-date">
  <time datetime="2020-03-02T17:53:06.000Z" itemprop="datePublished">2020-3-2</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/kiss/">KISS原理（翻译）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="What-does-KISS-stand-for"><a href="#What-does-KISS-stand-for" class="headerlink" title="What does KISS stand for?"></a>What does KISS stand for?</h2><p><a href="https://people.apache.org/~fhanik/kiss.html" target="_blank" rel="noopener">原文 https://people.apache.org/~fhanik/kiss.html</a></p>
<p>KISS 是“保持一个东西的简单，用起来傻瓜式的”英文（KEEP IT SIMPLE AND STUPID）缩写。</p>
<h2 id="神马意思？"><a href="#神马意思？" class="headerlink" title="神马意思？"></a>神马意思？</h2><p>这个原则让我在做软件工程的这几年里获得了巨大的成功。今天，困扰广大软件工程师和开发人员的一个大问题就是他们要去克服复杂的问题。</p>
<p>通常，当一个开发者遇到一个难题时，他们几乎都会想到将他分解成更小的部分，以便于他们可以理解然后尝试用代码实现解决方案。 我想说的是他们分解的还不够小，对那小部分也理解不够深。这导致他们即使解决最简单的问题，也会使用非常复杂的实现。另一个副作用是产生面条代码（就是那种很乱的代码），我们可能只想到 BASIC 使用了 goto 就是面条代码了，实际上也包括在 Java 里那些包含500到1000行代码的雷。</p>
<p>This code clutter is a result of the developer realizing exception cases to his original solution while he is typing in code. These exception cases would have solved if the developer had broken down the problem further.<br>这种代码混乱是因为开发者在编写代码实现他们的解决方案的过程中意识到了很多异常情况需要处理。如果研发者分解问题更细，这些异常情况是可以解决的。</p>
<h2 id="我如何从-KISS-原则中获益"><a href="#我如何从-KISS-原则中获益" class="headerlink" title="我如何从 KISS 原则中获益"></a>我如何从 KISS 原则中获益</h2><ul>
<li>能更快地解决更多问题</li>
<li>用更少的代码解决更困难的问题</li>
<li>写出高质量的代码</li>
<li>构建更大的系统，更容易维护</li>
<li>代码更灵活，更容易扩展，当有新需求时更容易满足它们</li>
<li>比想象的实现更多</li>
<li>能在很大的项目中团队中工作</li>
</ul>
<h2 id="如何在我的工作中应用-KISS-原则"><a href="#如何在我的工作中应用-KISS-原则" class="headerlink" title="如何在我的工作中应用 KISS 原则"></a>如何在我的工作中应用 KISS 原则</h2><p>只需要几步， 非常简单，但是某些也是挑战。就像听起来的那样，保持简单，就是耐心的问题，主要是对你自己。</p>
<ul>
<li>谦逊，不要把自己想象成一个天才，这是第一个错误。谦逊了，你最终就能达到天才的状态，但即使不是，谁又在乎呢。你的代码是简单的，所以没必要是天才。</li>
<li>把任务分解成子任务，足够小，小到你认为自己4到12个小时就能解决它。</li>
<li>把你的问题分解的足够小，每个问题能用1各类或者非常少的类就能实现。</li>
<li>保持方法足够小，小到只有三四十行，每个方法应该解决一些小问题，如果一个方法里有很多条件判断，把他们分解成更小的方法。不仅仅因为这样更容易读，更容易维护，而且也更容易找到bug。别忘了多使用重构功能。</li>
<li>同样的类也要足够小</li>
<li>先解决这个问题，有了方案，在写代码。而不是在写代码的过程中解决问题，这也没有错，事实上，你可以两种方式结合起来做。<br>如果你能将一个事情分解的非常小，那就尽量在编码的时候去这样做吧。但是别害怕一遍一遍一遍的去重构你的代码。最终的结果才重要，代码更少当然更好</li>
<li>不要害怕扔掉代码。当遇到不存在的需求，或者发现更好的解决方案时，删掉就代码吧。如果你遵照以上建议，重写的代码比会最少，如果不遵守肯定会有很多重写。</li>
<li>在其他情况下也要尽可能的简单，这是最难的模式，但是一旦你坚持了，当回头看时，你会感叹当时是怎么写出来的呀。</li>
</ul>
<h2 id="有什么遵循-KISS-原则的例子吗？"><a href="#有什么遵循-KISS-原则的例子吗？" class="headerlink" title="有什么遵循 KISS 原则的例子吗？"></a>有什么遵循 KISS 原则的例子吗？</h2><p>有很多，我将会找一些放在这. 但是现在我先告诉你:</p>
<p>世界上最伟大的算法总是那些代码行数最少的一些。很容易理解. 算法的创建着把问题分解的足够小，足够简单，以便于可以用代码实现它们。很多伟大的问题解决者不是开发人员，但是却能写出伟大的代码。</p>
<h2 id="KISS-只能应用于-Java"><a href="#KISS-只能应用于-Java" class="headerlink" title="KISS 只能应用于 Java"></a>KISS 只能应用于 Java</h2><p>绝对不是，他可以一个用于各种其他的语言，甚至可以扩展应用到你生活的各个地方。<br>唯一的不能使用 KISS 原则的地方是：情感， 爱， 最重要的你的婚姻。</p>
<hr>
<p>这篇文章是2016年写的，实际是直接把英文内容复制过来的，也不知到当时看没看完，一点印象都没有了。现在 2020年3月2日，翻译成了中文，感觉没什么高深了，就当练练翻译吧。</p>
<p>最后的 KISS 不能应用于 情感，爱，婚姻， 直接升华了，很棒。</p>
<p>其实这个就是说的 TDD，或者更先进说法 BDD。或者说 TDD/BDD 遵循了 KISS 原则，试图将问题提前分解，每次只去解决一个很小的问题。当然 TDD/BDD 包含了更多。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/kiss/" data-id="ck97t357i002q1wr7hggc1b2k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E5%AD%A6/" rel="tag">方法学</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《挪威的森林》读后感" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E3%80%8A%E6%8C%AA%E5%A8%81%E7%9A%84%E6%A3%AE%E6%9E%97%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/" class="article-date">
  <time datetime="2018-06-21T20:49:00.000Z" itemprop="datePublished">2018-6-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E3%80%8A%E6%8C%AA%E5%A8%81%E7%9A%84%E6%A3%AE%E6%9E%97%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/">《挪威的森林》读后感</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天看完了 《挪威的森林》，相当的棒，上次有这种感觉大概是在看完《悲惨的世界》的时候，因为比较长，所以看的时间就会长，但是因为被内容吸引，所以会一直看，一有空就看，感觉这段时间自己真的参与其中。在我看来这是从看电影中得不来的。因为电影顶长大多也就三个小时，虽然现在有美剧，但是一口气看下来感觉有点过意不去，感觉太放纵。而读书就没有这种感觉。另外，电影里有些对话或者细节可能很容易忽略，读书就好一点，当然这可能是能力的问题了。</p>
<p>村上春树这个人早有耳闻，一直也想看他的书，但是小说在我的读书列表里拍的是比较靠后的，小说里排在前面的都是一些世界名著，比如《雾都孤儿》，《复活》，《巴黎圣母院》。现在这些书都还没有看，去看了《挪威的森林》，为什么呢？让我们慢慢说来，年初的时候，我想提高自己的写作能力，所以找了好多书，其中有一本 《当我谈跑步时我在谈些什么》，网上人家推荐的，我就看了，发现当他在谈跑步时，他并没有谈写作。不过却让我对村上春树产生了兴趣。此时，我在呼和浩特一个民俗居住，他家厕所门口有个书架，我上厕所出来，偶尔会看看都有什么书，于是就发现了《挪威的森林》这本书，因为当时还在看《当我谈跑步时我在谈些什么》这本书，就打算看完了，在看《挪威的森林》。</p>
<p>《当我谈跑步时我在谈些什么》这本书算是村上春树的一本自传，只不过是围绕跑步，以跑步为线索的，读完，我以为我对他有所了解。然而，当我看到《挪威的森林》的后半部分时，我发现，我真的不了解他，让我很是触动，竟然对色情描写这么多。对于一个看惯了岛国动作片的人来说，这不失为一剂清新剂。这里要再次感慨，电影不如读书有感觉。</p>
<p>当然，给我触动的不仅仅是对色情的描写，还有在塑造的人物形象的技能，简直是高超，太鲜明了。我好像不曾看过言情的小说，但是我却很讨厌它们，也不知道怎么形成的这种观念。看名字就不想看，《娇宠王妃》呀，《独宠娇女》呀，我刚去我同事的微信读书书架找来的，哈哈，希望她看不到。女生比较喜欢看言情，她好像不只一次说我看的那些书都是啥呀（我喜欢看非虚构，方法论等）。每个人都有自己的喜好，所以也不会去评论啥，她也是打趣的说一说，我其实对品种不是太挑，我挑的是品质，因为读每一本书都有它的价值，但是价值的大小不同，我专挑那些经过时间检验的，不过有些功能书，也没得挑。</p>
<p>在《挪威的森林》这本书里，我特别敬佩的是，村上春树怎么能将两个性格迥异的年轻女孩子描写的这么传神，这么地道，这么丰满。感觉这难度，要比刘慈欣构造那个宇宙理论都难，当然他们之间没有可比性。但是村上春树对细节的描绘，简直就像真实经历过一样，我们一般人真正经历过也不会描绘这么详细。</p>
<p>《挪威的森林》里描绘的青年的生活，跟我的青年生活区别还是比较大的，当然打飞机自慰这一点是一样的，但是跟女孩子上床，而且跟女孩子的对话，女孩子的言论这么赤裸裸，我是有点不能接受的，至少在我从来没有发生过。可能日本的文化在这方面比中国要开放许多，可能我没交过女朋友的原因。不过仔细回想，我还真遇到过一个有点像绿子的女孩，当然并没有说话那么赤裸裸，但是有一次在地铁站门口看我对打底裤好奇，于是掀起裙子给我看，我还真有点接受不了，感觉有点尴尬。不过的的确确让我知道了打底裤是什么，安全裤是什么。事情过了，无论难过，还是难堪，写下来，总感觉还是挺有意思的。</p>
<p>对于绿子，我一开始还比较讨厌，感觉说话太过了，相处太累了，野蛮女友。不过后来感觉也挺喜欢，有什么感情表达出来，不藏着噎着，最后渡边君也选择绿子。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E3%80%8A%E6%8C%AA%E5%A8%81%E7%9A%84%E6%A3%AE%E6%9E%97%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/" data-id="ck97t3590006a1wr7hql355dy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%91%E4%B8%8A%E6%98%A5%E6%A0%91/" rel="tag">村上春树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%A8%80%E6%83%85/" rel="tag">言情</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-自由开发者2个月总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%852%E4%B8%AA%E6%9C%88%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2018-06-19T20:12:00.000Z" itemprop="datePublished">2018-6-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%852%E4%B8%AA%E6%9C%88%E6%80%BB%E7%BB%93/">自由开发者2个月总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>再次看这个记录，已经是2018年的尾巴，有点不甘心，2018就这样过去了，我的自由开发者之路，随着我的西藏骑行之路的开始而结束，又一次留下了一个半成品。我要把这个记录发出来，因为我要接受我曾经的我，即使很不成熟，因为我会变的更好。</p>
</blockquote>
<p>对于苦行，我觉得还是很有发言权的，因为我曾经干过不少在别人看来身体痛苦的事情。比如初中学期结束的时候，我会用背包背所有的书，大概有二三十斤吧，然后骑着自行车回家，尤其到寒假，马路上都在晒的小麦，骑自行车在上面无论自行车技术多么高超，都会很吃力的。而我，最惨的一次，骑着自行车，还要拿着凳子，我只能把凳子放到车把上，手扶着椅子，玩着杂技骑行，可能那次就在摊在马路上的小麦上滑到了，书好像是包在被子里的，结果都散在了小麦上。头顶上是火红的太阳，我在小麦上整理书，包起来，感觉特别难看，好像连太阳都在哈哈嘲笑我。脸上很热，很红，不知道是太阳晒得，还是难堪导致的。</p>
<p>高中，我开始走着回家，从英雄山中学做14路，然后转乘9路，到泰山医学院，那时候还没有直接通到家附近的32路，我就从泰山医学院走回家，不过走路对我来说并不算“苦”，只能算“行”。</p>
<p>大学里，走路更是多了，经常会走着去海边。到了毕业，去到北京，刚开始，吃饭是用一个从两元超市买的大海碗残次品，用一个热得快，在大海碗里放水，加热，然后削土豆片，白菜，放到里面，然后沾调料吃，虽然现在想想挺苦的，其实当时吃的可香着呢，能吃两三个馒头。再后来，在北京骑行过两次比较远距离的路程，一次是午夜从火车站骑摩拜回沙河高教园，另一次比较久了，都忘记去到哪里了。这两次都是比较艰难的，路程长，拿着行李多，不方便。</p>
<p>而这次的自由开发者的旅行，我尽量缩减要拿的东西，但是，因为要外出一年，就是这些必需品已经够多够沉了。好吧，主要还是因为我要练吉他，带了吉他，还想着拍照，带了单反。</p>
<p>我是信仰吃苦是福的，有着苦行僧的精神。</p>
<p>这是第二个月的总结，其实已经超过了半月了。现在，明显状态，心态，意志力不如刚开始的时候了。是该重整旗鼓了。每天，每周，每月的总结计划，都应该进行起来了。</p>
<p>来说说住的情况吧，从日照一个人住一个新房子，到济南住一个小隔间，再到天津住狗窝样的房子，再到呼和浩特住那样的婚房，再到银川住人家楼顶加盖的阁楼，热得不行，再到兰州住在这么一个闹市中的一个小单间了。不谈钱，只谈居住条件，感觉越来越不咋地。</p>
<p>下一站，就要去青海了，属于青藏高原啦，一定要做好准备，要开始跑步锻炼身体了，要开始做俯卧撑，要开始做仰卧起坐，总之，运动量一定要提高。</p>
<p>在学习了许岑的英语课后，对练技能也有了更深的认识，对重复也有了更深的理解，所以，许岑的英语任务，一定要一点不差的完成，不管花多少事件，还要把那个关于自信的TED演讲重复看上20遍，并且要去实践，而第一个要实践的行为就是去搭讪。它是最能检查我的自信的标准。加油吧。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%852%E4%B8%AA%E6%9C%88%E6%80%BB%E7%BB%93/" data-id="ck97t358y00661wr7b68s5bh1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%97%85%E6%B8%B8/" rel="tag">旅游</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%85/" rel="tag">自由开发者</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%8B%A6%E8%A1%8C/" rel="tag">苦行</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-exponentiallybucketedhistogram" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/exponentiallybucketedhistogram/" class="article-date">
  <time datetime="2018-06-12T20:24:00.000Z" itemprop="datePublished">2018-6-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/exponentiallybucketedhistogram/">ExponentiallyBucketedHistogram</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="接-QueueWork"><a href="#接-QueueWork" class="headerlink" title="接 QueueWork"></a>接 QueueWork</h3><p>在看 QueueWork 源码的时候，故意忽略掉了 debug 的相关代码，但是 ExponentiallyBucketedHistogram 这个类名看着还是挺吓人的。如果什么东西看着很可怕，让我们不敢接近，那我们就农村包围城市，逐渐了解它，知道发出那声感叹：原来没什么呀！！</p>
<p><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/com/android/internal/util/ExponentiallyBucketedHistogram.java" target="_blank" rel="noopener">源码在这</a></p>
<h3 id="先从字面理解"><a href="#先从字面理解" class="headerlink" title="先从字面理解"></a>先从字面理解</h3><p>Exponentially 是以指数方式地，成倍地<br>Bucketed 桶<br>Histogram 直方图，柱状图</p>
<p>额，还不知道是什么东西，会生成直方图？</p>
<p>###　看看怎么用的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> ExponentiallyBucketedHistogram</span><br><span class="line">            mWaitTimes = <span class="keyword">new</span> ExponentiallyBucketedHistogram(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (waitTime &gt; <span class="number">0</span> || hadMessages) &#123;</span><br><span class="line">    mWaitTimes.add(Long.valueOf(waitTime).intValue());</span><br><span class="line">    mNumWaits++;</span><br><span class="line">    <span class="keyword">if</span> (DEBUG || mNumWaits % <span class="number">1024</span> == <span class="number">0</span> || waitTime &gt; MAX_WAIT_TIME_MILLIS) &#123;</span><br><span class="line">        mWaitTimes.log(LOG_TAG, <span class="string">"waited: "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>发现用法实在是简单，只是在每次处理完任务后，把处理事件添加到这个直方图中，在达到一定条件的时候让这个直方图打印一下日志。</p>
<h3 id="直面-ExponentiallyBucketedHistogram"><a href="#直面-ExponentiallyBucketedHistogram" class="headerlink" title="直面 ExponentiallyBucketedHistogram"></a>直面 ExponentiallyBucketedHistogram</h3><p>还是要先看看累的注释的：<br>这个类是一个直方图，直方图的值都是正数，每个柱是前一个柱的2倍。<br>表示不太理解</p>
<p>有个属性是整数数组，在构造函数里初始化。</p>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>这个构造函数够我们好好学习一会了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ExponentiallyBucketedHistogram</span><span class="params">(@IntRange(from = <span class="number">1</span>, to = <span class="number">31</span>)</span> <span class="keyword">int</span> numBuckets) </span>&#123;</span><br><span class="line">    numBuckets = Preconditions.checkArgumentInRange(numBuckets, <span class="number">1</span>, <span class="number">31</span>, <span class="string">"numBuckets"</span>);</span><br><span class="line">    mData = <span class="keyword">new</span> <span class="keyword">int</span>[numBuckets];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>首先 @IntRange 是包 android.annotation 中的，这些注释很有用，在 Android Studio 里，在我们传的值不符合规则时，会标出黄线予以警告。这里 @IntRange 声明了参数 numBuckets 取值范围为 1 ～ 31。</p>
<p>接下来，Preconditions 这个类也是一个 Android 内部使用的类，根据名字“先决条件”，可以知道，是做先验检查。这个语句会在检查参数符合要求好正常返回，否则抛出异常。你可能会疑惑，之前的注解不就干这事情吗？并不是，注解只是能让 AndroidStudio 显示提示，程序员在写代码时，可能会忽视它，而这里，直接抛异常，让你无法忽略。而且，注解是在编译时给提醒，在编代码的过程中，就能提示。而这个先验检查则需要在运行时，如果大家都很关注注解的提示，也就不需要这个先验检查了。</p>
<h4 id="add"><a href="#add" class="headerlink" title="add"></a>add</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (value &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">       mData[<span class="number">0</span>]++;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       mData[Math.min(mData.length - <span class="number">1</span>, <span class="number">32</span> - Integer.numberOfLeadingZeros(value))]++;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>负责添加熟知，这里的 value，在 QueueWork 传进的处理一次任务花费的时间。根据注释的说明，在看代码，可以知道，当值小于等于0时都放到第一柱里，否则，否则就比较复杂了。首先得搞清楚  Integer.numberOfLeadingZeros 是个什么鬼？ 看文档发现是看一个无符号整数在二进制是开头有多少个0。这个代码也是很奇妙呀：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (i &gt;&gt;&gt; <span class="number">16</span> == <span class="number">0</span>) &#123; n += <span class="number">16</span>; i &lt;&lt;= <span class="number">16</span>; &#125;</span><br><span class="line"><span class="keyword">if</span> (i &gt;&gt;&gt; <span class="number">24</span> == <span class="number">0</span>) &#123; n +=  <span class="number">8</span>; i &lt;&lt;=  <span class="number">8</span>; &#125;</span><br><span class="line"><span class="keyword">if</span> (i &gt;&gt;&gt; <span class="number">28</span> == <span class="number">0</span>) &#123; n +=  <span class="number">4</span>; i &lt;&lt;=  <span class="number">4</span>; &#125;</span><br><span class="line"><span class="keyword">if</span> (i &gt;&gt;&gt; <span class="number">30</span> == <span class="number">0</span>) &#123; n +=  <span class="number">2</span>; i &lt;&lt;=  <span class="number">2</span>; &#125;</span><br><span class="line">n -= i &gt;&gt;&gt; <span class="number">31</span>;</span><br></pre></td></tr></table></figure>
<p>&gt;&gt;&gt; 是无符号数右移， 使用了二分发，有兴趣的可以研究一下。numberOfLeadingZeros 的注释中说<br>ceil(log2(x)) = 32 - numberOfLeadingZeros(x - 1)，而在这个代码里，就跟等式右边类似的表达式，这样基本可以知道，那条语句的意思，对于添加的一个值，求他的log2，如果值比数组的最大的桶下标大，就取下表最大值。</p>
<p>而一个整形值，32位，这就是那个幻数的来历了，还记的构造函数的取值范围吗？ 1 ～ 31，也出于这里的原因。为什么呢？</p>
<p>32 位用 log2 来划分，实际有33中取值，0 ～ 32，但是这分桶是看区间，所以是 1 ～ 31。其实细节还是不是很清楚，不过这时候我基本已经理解这个柱状图大体是个怎么个样子了。<br><img src="/exponentiallybucketedhistogram/jinux/bitmap.png" alt="hello"></p>
<h3 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h3><p>本来想去看 log() 原来，还有个 reset 方法，虽然很简单，但是也涨了只是，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.fill(mData, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>如果以前我要做这工作，可能会自己遍历来了。实际这个方法也是想我要做的一样遍历，不过写起来方便嘛。Arrays 里有很多方便的方法，类似的还有 Strings，Collections</p>
<h3 id="log"><a href="#log" class="headerlink" title="log"></a>log</h3><p>log方法用文字来表达了上面图像的内容，使用 StringBuilder 来构建字符串。输出格式类似这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello[&lt;<span class="number">1</span>: <span class="number">200</span>, &lt;<span class="number">2</span>: <span class="number">300</span>, &lt;<span class="number">4</span>: <span class="number">100</span>, &gt;=<span class="number">4</span>: <span class="number">800</span>]</span><br></pre></td></tr></table></figure>

<p>到此为止</p>
<hr>
<ol>
<li>最近在背英语单词呢，又学到了两个单词</li>
<li>Arrays.fill(mData, 0) 填充一个数组</li>
<li>numberOfLeadingZeros() 返回一个整数的二进制时的高位的0的个数</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/exponentiallybucketedhistogram/" data-id="ck97t358y00641wr77l4m7lvo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/QueueWorker/" rel="tag">QueueWorker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-queue-worker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/queue-worker/" class="article-date">
  <time datetime="2018-06-10T21:36:00.000Z" itemprop="datePublished">2018-6-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/queue-worker/">QueuedWork</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/QueuedWork.java" target="_blank" rel="noopener">QueuedWork源码</a></p>
<p>这是一个内部工具类，也就是说不会暴露 API，我们不能使用，但是我们可以从这里开始学习呀！</p>
<p>下面，我们先来翻译一下它的类注释</p>
<blockquote>
<p>这个内部类用来追踪进程全局的待执行的任务<br>新的任务，会被入队列<br>还可以添加 ‘finisher’-runnables，会保证这些 finisher 在任务完成后执行<br>这个类是为了解决 SharedPrefenrences 一部保存而写的，我们会在 Activity.onPause 等类似的周期函数里等待保存任务完成。<br>但是我们未来也可能会把该类用到其他地方<br>入队的异步任务会在单独的专门的线程执行</p>
</blockquote>
<p>对于一个陌生的东西，它可能有很多我们不知道的东西，某些可能我们缺少相关的基础只是，而另一些则是因为缺少上下文，所以，我们一开始，我们只从这个源码着手，先去认识了解那些我们知道的，采取农村包围城市方针，一点一点攻克，最后剩下的是需要外面的知识。</p>
<h3 id="LOG-TAG"><a href="#LOG-TAG" class="headerlink" title="LOG_TAG"></a>LOG_TAG</h3><p>使用类的 simpleName 赋值，之前技术Leader说这样会有问题，我所了解的一点是 TAG 的长度有限制，至今还不知道有什么问题。</p>
<h3 id="DEBUG"><a href="#DEBUG" class="headerlink" title="DEBUG"></a>DEBUG</h3><p>用来打印一些 debug 的 log，我们应用里，直接封装了打印日志的函数，在这些函数里面进行判断，感觉更好一些。</p>
<h3 id="DELAY？？？？"><a href="#DELAY？？？？" class="headerlink" title="DELAY？？？？"></a>DELAY？？？？</h3><h3 id="MAX-WAIT-TIME-MILLIS"><a href="#MAX-WAIT-TIME-MILLIS" class="headerlink" title="MAX_WAIT_TIME_MILLIS"></a>MAX_WAIT_TIME_MILLIS</h3><p>最大等待时长，根据注释，只是为了打印一个 warning，在等待任务完成时，会记录消耗的时长。</p>
<h3 id="sLock-和-sProcessingWork"><a href="#sLock-和-sProcessingWork" class="headerlink" title="sLock 和 sProcessingWork"></a>sLock 和 sProcessingWork</h3><p>是这个类里面的两个锁</p>
<p>sLock 是这个类的锁，各种操作都需要用这个锁同步<br>sProcessingWork 是为了保证同时只有一个线程处理任务队列，因而保证任务执行的顺序是添加的顺序。因为整个任务队列执行的事件都被锁住，所以使用单独的锁，一遍可以执行其他操作。</p>
<p>在方法中详细聊</p>
<h3 id="sFinishers"><a href="#sFinishers" class="headerlink" title="sFinishers"></a>sFinishers</h3><p>整个变量是需要执行的 Finisher，也就是任务都执行完后，要执行的操作。<br>注释很棒，来看看</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Finishers &#123;<span class="doctag">@link</span> #addFinisher added&#125; and not yet &#123;<span class="doctag">@link</span> #removeFinisher removed&#125; */</span></span><br></pre></td></tr></table></figure>
<p>是添加了的，还没有移除的 Finishers，一块说明了两个操作 addFinisher 和 removeFinisher，它俩实现很多简单就是队列表元素的添加和删除，添加了同步。<br>学习了  {@link #method hint} 注释中的 mark 的使用<br>还要注意到一个注解</p>
<h3 id="GuardedBy-“sLock”"><a href="#GuardedBy-“sLock”" class="headerlink" title="@GuardedBy(“sLock”)"></a>@GuardedBy(“sLock”)</h3><p>只是指示作用， 比注释简洁，明确的说明被它修饰的方法或属性在访问前需要先获取 sLock的锁</p>
<p>一眼看下去，发现 sFinishers， sHandler， sWork， sCanDelay， mWaitTimes 都需要 sLock 是这个锁</p>
<h3 id="sHandler"><a href="#sHandler" class="headerlink" title="sHandler"></a>sHandler</h3><p>通过 getHandler() 实现懒创建，还是个单例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Handler <span class="title">getHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (sLock) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sHandler == <span class="keyword">null</span>) &#123;</span><br><span class="line">            HandlerThread handlerThread = <span class="keyword">new</span> HandlerThread(<span class="string">"queued-work-looper"</span>,</span><br><span class="line">                    Process.THREAD_PRIORITY_FOREGROUND);</span><br><span class="line">            handlerThread.start();</span><br><span class="line">            sHandler = <span class="keyword">new</span> QueuedWorkHandler(handlerThread.getLooper());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sHandler;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们发现是使用 HandlerThread，创建一个新线程， 初始化的时候原来不仅要设置名称，还可以设置优先级 Process.THREAD_PRIORITY_FOREGROUND。<br>接着启动它后，实例化了一个 QueuedWorkHandler 对象，这是一个很正常的通过 HandlerThread 来创建消息队列的流程。<br>QueuedWorkHandler 是个内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">QueuedWorkHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MSG_RUN = <span class="number">1</span>;</span><br><span class="line">  QueuedWorkHandler(Looper looper) &#123;</span><br><span class="line">      <span class="keyword">super</span>(looper);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (msg.what == MSG_RUN) &#123;</span><br><span class="line">          processPendingWork();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个类是个私有静态内部类，顶一个了一个 MSG_RUN, 实现 handleMessage 仅仅是针对 MSG_RUN 来调用处理未处理的工作。processPendingWork(); 是核心，我们最后说。</p>
<h3 id="sWork"><a href="#sWork" class="headerlink" title="sWork"></a>sWork</h3><p>不必多说，这就是未处理的工作队列。通过 queue 向里面添加工作</p>
<h3 id="sCanDelay？？？"><a href="#sCanDelay？？？" class="headerlink" title="sCanDelay？？？"></a>sCanDelay？？？</h3><h3 id="mWaitTimes-和-mNumWaits？？？"><a href="#mWaitTimes-和-mNumWaits？？？" class="headerlink" title="mWaitTimes 和 mNumWaits？？？"></a>mWaitTimes 和 mNumWaits？？？</h3><h3 id="全是静态属性，静态方法"><a href="#全是静态属性，静态方法" class="headerlink" title="全是静态属性，静态方法"></a>全是静态属性，静态方法</h3><p>我才发现，这个类原来所有的方法属性都是静态的。只能算个工具类。</p>
<h3 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h3><p>入队一个任务，并且通知工作线程处理，这里还有参数 shouldDelay，跟 sCanDelay 配合决定是否延时通知线程处理，我不太理解为什么需要延时处理。</p>
<p>hasPendingWork 只是返回队列是否为空</p>
<p>好，只剩下两个方法</p>
<h3 id="processPendingWork"><a href="#processPendingWork" class="headerlink" title="processPendingWork"></a>processPendingWork</h3><p>之前在阅读 QueuedWorkHandler 的代码时，提到过它，我们大体知道了 QueueWork 的核心逻辑了，在入队一个任务时，会发消息给执行线程，而 handler 收到消息就会处理，怎么处理呢，就是交个 processPendingWork 处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (sProcessingWork) &#123;</span><br><span class="line">  LinkedList&lt;Runnable&gt; work;</span><br><span class="line">  <span class="keyword">synchronized</span> (sLock) &#123;</span><br><span class="line">      work = (LinkedList&lt;Runnable&gt;) sWork.clone();</span><br><span class="line">      sWork.clear();</span><br><span class="line">      <span class="comment">// Remove all msg-s as all work will be processed now</span></span><br><span class="line">      getHandler().removeMessages(QueuedWorkHandler.MSG_RUN);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (work.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (Runnable w : work) &#123;</span><br><span class="line">          w.run();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里用了两个锁，可以从中学习到很好的同步写法。先说 sLock，首先将 sWork 克隆到本地变量 work，然后清空 sWork，在移除 MSG_RUN，则一些列保证原子性，就像其他对 sWork的操作一样。之前在说 sProcessingWork 时已经说过，它的作用是保证处理任务的顺序按照入队的顺序。怎么保证的呢，work里的按顺序遍历自不必多说，关键是在执行完 sWork 想 work 的克隆后，如果来了任务，而且还在另一个重入该方法，如果没锁，那就是在两个线程里分别遍历两个列表，这顺序肯定不能保证。而有了 sProcessingWork，这种情况就解决了。</p>
<p>之前已经提到处理任务时会计时，是为了 debug 的，直接忽略掉了。</p>
<h3 id="waitToFinish"><a href="#waitToFinish" class="headerlink" title="waitToFinish"></a>waitToFinish</h3><p>不知你有没有发现一个问题， processPendingWork 如果只是在 QueuedWorkHandler 里调用，那一定在一个线程里，也就不需要之前的同步了。这里就解决了这个疑问， waitToFinish 一个公开得方法，它直接调用了 processPendingWork 方法，所以还是会被其他线程执行的。</p>
<p>该方法首先一处 MSG_RUN，然后处理未处理的工作，最后处理掉所有 Finisher，我们忽略了 debug 的操作。</p>
<h4 id="移除-MSG-RUN"><a href="#移除-MSG-RUN" class="headerlink" title="移除 MSG_RUN"></a>移除 MSG_RUN</h4><p>这很好理解，因为接下来就出列悬而未决的任务了，所以没必要通知工作线程去处理了。</p>
<p>sCanDelay 设成 false，因为在这个方法里必须将所有悬而未决的任务处理掉，所以就不需要 delay 了，之前说过不明白为什么 delay，先在觉得可能就是为了在最后这一刻能够集中处理一下，额，太牵强了。</p>
<h4 id="StrictMode"><a href="#StrictMode" class="headerlink" title="StrictMode"></a>StrictMode</h4><p>一看名就感觉很高级，完全不知所云， 但但是说出它的作用你就知道了它是什么了。我们知道在 UI 线程不能做好事操作，比如读写磁盘 和 网络请求。使用 StrictMode 可以检测到这种操作，并且你可以制定要做如何的相应。</p>
<p>StrictMode.allowThreadDiskWrites(),<br>是一个提供方便的方法，他会设置允许写磁盘操作，因为我们的保存配置的操作是写操作，同时，会返回当前的 ThreadPolicy，代码中会保存原来的策略，在执行完任务后再还原。</p>
<h4 id="清理掉-Finisher"><a href="#清理掉-Finisher" class="headerlink" title="清理掉 Finisher"></a>清理掉 Finisher</h4><p>最后，可以看到，使用了一个死循环，不断的从列表里 poll 出 Finsiher，只有没有了，返回 null 才退出死循环。</p>
<h4 id="这个方法在哪调用"><a href="#这个方法在哪调用" class="headerlink" title="这个方法在哪调用"></a>这个方法在哪调用</h4><p>这个方法会在 Activity 的 onPause(), Broadcast 的 onReceive, 在服务处理了 command 后，总之保证悬而未决的任务处理掉。</p>
<p>这里就可以发现一个问题，这个方法是会阻塞UI线程的， 所以，任务要尽量少，任务工作量也应该尽量小。具体到保存配置，就是不要太频繁的 apply，配置的内容尽量少。</p>
<hr>
<ol>
<li>第一个提高的能力，翻译</li>
<li>{@link #method hint}</li>
<li>@GuardedBy(“sLock”)</li>
<li>StrickMode</li>
<li>同步策略</li>
<li>死循环不断 poll，检测到null退出循环</li>
<li>IntnetThread， Handler 的使用</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/queue-worker/" data-id="ck97t35e600lf1wr7f4xgcoue" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SharedPrefenrences/" rel="tag">SharedPrefenrences</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-今日记简介" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E4%BB%8A%E6%97%A5%E8%AE%B0%E7%AE%80%E4%BB%8B/" class="article-date">
  <time datetime="2018-06-08T09:01:00.000Z" itemprop="datePublished">2018-6-8</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E4%BB%8A%E6%97%A5%E8%AE%B0%E7%AE%80%E4%BB%8B/">今日记简介</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>记录你的美好时光</em></p>
<p>今日记是一款免费的日记软件。你可以用它来记录你生活的点滴，而这些点滴就组成了我们的美好的时光。</p>
<p><em>以一周为一个卡片来展现列表</em></p>
<p>列表将一周的记录设计成一个卡片，这样某一天没有记录将显而易见，我们会很想去完成他。然而就像生活，如果一天过去了，我们是无法再过那一天的，我们要过好当下的一天。</p>
<p><em>更佳的写作体验</em></p>
<p>—- 今日记自己实现了对于键盘的响应，解决了在键盘弹出和收起时的内容的弹跳问题。<br>—- 今日记实现了更好的段间距，再也不用使用多于空行来添加段间距，而且显示更加美观。</p>
<p><em>当前位置，天气，心情</em></p>
<p>—- 使用谷歌服务，自动定位<br>—- 自动获取天气<br>—- 用户也可以自己选择位置，天气<br>—- 用户可以选择当前心情</p>
<p><em>日记锁</em></p>
<p>—- 实现了密码锁，自己设置密码<br>—- 指纹识别解锁，无需设置，只要系统设置了指纹，就可以使用</p>
<p><em>统计</em></p>
<p>—- 25个字打卡，根据《微习惯》，制定小目标，轻松实现，养成好习惯<br>—- 统计每天/每周/每月/每年的字/文章的数量，能够获得成就感，对过去更好的总结回顾</p>
<hr>
<p>这个软件是我独自设计开发，会一直维护下去，希望能帮助别人养成记日记的习惯，一块记录自己的故事，之后会加入分享。<br><a href="https://play.google.com/store/apps/details?id=com.empty.jinux.simplediary" target="_blank" rel="noopener">Google Play</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E4%BB%8A%E6%97%A5%E8%AE%B0%E7%AE%80%E4%BB%8B/" data-id="ck97t358x00611wr73g2le30z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/App/" rel="tag">App</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%8A%E6%97%A5%E8%AE%B0/" rel="tag">今日记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-learn-guitar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/learn-guitar/" class="article-date">
  <time datetime="2018-06-03T20:16:00.000Z" itemprop="datePublished">2018-6-3</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/learn-guitar/">当我学吉他时，我在学什么</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>题目是我仿照最近在看的村上春树的书名 《当我谈跑步时，我在谈些什么》</p>
<p>我的吉他是去年3月26日买的，这个日期是我在京东上查的，刚查到还有点震惊，已经一年多了。那我的吉他学习速度还真是挺慢的。</p>
<p>记得当时，我只想买个尤克里里，却被我们技术头买了雅马哈的 FGX800C，不过很好，的确要比尤克里里共鸣效果好得多，好听的多。</p>
<p>竟然一年多了！！容我再感叹一下。这一年，我完全是自学，从网上看视频，主要看了果木浪子的吉他教程，还看了许岑的指弹教程，不过只看了几集，学了点练基本功的方式。期间，有一段时间没有练，让吉他在那落灰了，也不知为什么就停下了，但是我知道为什么我有重新开始练了，是因为我看了 《微习惯》这根书，要问我，读书的意义，我会说它会改变我，让我变得更好。</p>
<p>之前说我的学习吉他的速度挺慢的，因为现在我的练习成果是：</p>
<ol>
<li>能弹一段 《兰花草》两个和弦</li>
<li>能弹一段 《七月上》四个和弦</li>
<li>能弹一首 《平凡之路》四个和弦 分解和弦和扫弦，之前都是分解和弦</li>
<li>能弹卡尔卡西二十二条的分解和弦的前五条</li>
<li>能较快的连着弹 1324 3412 4231 2143 1342 3124 (许岑教程里的)</li>
<li>练了练击钩滑，还有泛音，只是看看难不难，发现不是太难，不过手指独立性就难了</li>
<li>奥，F和弦大横按基本攻克，还能与C和弦切换，这可是个大成果</li>
</ol>
<p>就这些，其实我并不知道别人的进度咋样，我依然觉得我能坚持下来，算是入门了，这就很厉害了。</p>
<p>这些成果中，《平凡之路》是我练习最久的，一个原因是这首歌的伴奏太好听了，自从弹它以后，我就把《七月上》给丢一边了，完全没感觉了。另一个原因是它有扫弦练习，作为我的攻克扫弦的第一首歌曲，还是因为它很好听的原因。</p>
<p>关于扫弦，我之前一直很想练习，但是无奈找不到合适的节奏型，网上也有很多，但是只有节奏型，我还是练不下去，直到开始练习《平凡之路》。</p>
<p>其实最初打算练习吉他，出于爱好当然是一个原因，另一个原因是看了《刻意练习》，是，还是看书影响了我，那段时间看了好多刻意练习的相关内容，有许岑的时间，是一个音频。还有另一本书《关键20个小时，学习任何技能》，其中就有作者用 20 个小时学习尤克里里，还做了个 TED演讲，表演了他的尤克里里弹唱。我可能被最后这本书洗脑了吧：）</p>
<p>我的学习过程并没有特别艰难，有个技能不会，那我就先练习别的，比如大横按，其实好早我就在练了，但是总是摁不好，练一会还手疼，我也不急不躁，我深信，只要我不放弃，我就能攻克它。当然这里面可能也有热爱的缘故吧。</p>
<p>虽然，受了 “刻意练习” 的影响，但是我却很少去 “刻意练习”，因为“刻意练习”的确是太苦了，太枯燥了，这可能就是我的学习进度慢的原因。</p>
<p>在练习吉他的过程中，我还是或多或少的运用一下刻意练习的，比如十分钟，只做一个练习。同时，我还悟出一点自己的东西，就是把一个东西炼精的过程中，练就自己的功夫。</p>
<p>这一点是我在练习《平凡之路》过程中得到的，平凡之路，我现在对他已经很熟悉了，它的四个和弦里第四个是一个旋律，是比较难按的，我被它憋了好久。扫弦也是一个拦路虎。其实在《七月上》的时候也有所感受，那首歌里歌词跟伴奏是错开的，不是一齐唱，当时还是困扰了我一段时间的，然而，在练《平凡之路》时，虽然也是错开的，但完全没有困扰我。我就是这样获得自信的，我知道，当我再去学习另一首歌，它有伴奏，伴奏节奏型可能不同，但是我也基本能很快练习起来。</p>
<p>更重要的是，我不仅在弹吉他时有了自信，在学习其他东西时也有了自信。而且这种对一个东西炼精的方法，也可以推广到其他领域。</p>
<p>比如我在编程，我打算好好研究一下 Android 里的 SharedPreferences 的实现，不仅仅是他的实现逻辑，大的结构，而是它牵扯到的方方面面，比如锁的使用，CountDownLatch等等。</p>
<p>其实，我一直有这种心理，就是当使用了某个库，或者 API，我就想彻底把它弄懂，但是无奈总是一个没有时间为借口，不了了之，导致自己总是感觉有种不踏实的感觉。以后，会更多的花时间来精炼每一个自己学习的东西。</p>
<p>这岂不就是“刻意练习”！！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/learn-guitar/" data-id="ck97t358v005x1wr70z823o80" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%90%89%E4%BB%96/" rel="tag">吉他</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A8%A1%E4%BB%BF/" rel="tag">模仿</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BB%98%E7%94%BB/" rel="tag">绘画</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E4%B9%90/" rel="tag">音乐</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-applay-commit" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/applay-commit/" class="article-date">
  <time datetime="2018-05-27T11:12:00.000Z" itemprop="datePublished">2018-5-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/applay-commit/">从源码来看 SharePreference</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>SharePreference 是 Android 应用保存配置的类，保存键值对，它的使用还是比较简单的，我们只需要跟三个接口打交道：</p>
<ol>
<li>SharedPreferences 负责读取配置(getXXX())，从 Context#getSharedPreferences 获取对象</li>
<li>Editor 负责保存配置(putXXX()), 最后要使用 (apply/commit 提交配置)，从 SharedPreferences.editor 获取对象</li>
<li>OnSharedPreferenceChangeListener 负责监听配置变化，需要传给 SharedPreferences</li>
</ol>
<p>需要特别注意的是，SharePreference 特别声明该类不支持跨进程。在老版本是允许的，是一个坑。</p>
<h2 id="获取-SharedPreferences-对象"><a href="#获取-SharedPreferences-对象" class="headerlink" title="获取 SharedPreferences 对象"></a>获取 SharedPreferences 对象</h2><p>Contex 的实现类 <a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/ContextImpl.java" target="_blank" rel="noopener">ContextImpl</a></p>
<p>在 getSharedPreferences(String name, int mode) 方法里：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (ContextImpl<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mSharedPrefsPaths == <span class="keyword">null</span>) &#123;</span><br><span class="line">        mSharedPrefsPaths = <span class="keyword">new</span> ArrayMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    file = mSharedPrefsPaths.get(name);</span><br><span class="line">    <span class="keyword">if</span> (file == <span class="keyword">null</span>) &#123;</span><br><span class="line">        file = getSharedPreferencesPath(name);</span><br><span class="line">        mSharedPrefsPaths.put(name, file);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里使用 synchronized 防止并发访问 mSharedPrefsPaths 这样每个线程得到的都是相同的 mSharedPrefsPaths，并能根据 name 获取到自己正确的文件名。getSharedPreferencesPath 会根据 name 生成文件路径。我们跟进这个方法发现配置文件保存目录为 data/shared_prefs。</p>
<p>继续，进到重载方法 getSharedPreferences(File file, int mode) 方法里：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (ContextImpl<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> ArrayMap&lt;File, SharedPreferencesImpl&gt; cache = getSharedPreferencesCacheLocked();</span><br><span class="line">  sp = cache.get(file);</span><br><span class="line">  <span class="keyword">if</span> (sp == <span class="keyword">null</span>) &#123;</span><br><span class="line">      checkMode(mode);</span><br><span class="line">      <span class="keyword">if</span> (getApplicationInfo().targetSdkVersion &gt;= android.os.Build.VERSION_CODES.O) &#123;</span><br><span class="line">          <span class="keyword">if</span> (isCredentialProtectedStorage()</span><br><span class="line">                  &amp;&amp; !getSystemService(UserManager<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">                          .<span class="title">isUserUnlockingOrUnlocked</span>(<span class="title">UserHandle</span>.<span class="title">myUserId</span>())) </span>&#123;</span><br><span class="line">              <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"SharedPreferences in credential encrypted "</span></span><br><span class="line">                      + <span class="string">"storage are not available until after user is unlocked"</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      sp = <span class="keyword">new</span> SharedPreferencesImpl(file, mode);</span><br><span class="line">      cache.put(file, sp);</span><br><span class="line">      <span class="keyword">return</span> sp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((mode &amp; Context.MODE_MULTI_PROCESS) != <span class="number">0</span> ||</span><br><span class="line">  getApplicationInfo().targetSdkVersion &lt; android.os.Build.VERSION_CODES.HONEYCOMB) &#123;</span><br><span class="line">  <span class="comment">// If somebody else (some other process) changed the prefs</span></span><br><span class="line">  <span class="comment">// file behind our back, we reload it.  This has been the</span></span><br><span class="line">  <span class="comment">// historical (if undocumented) behavior.</span></span><br><span class="line">  sp.startReloadIfChangedUnexpectedly();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们发现，有做了一个 缓存，之前是 name -&gt; File, 现在是 File -&gt; SharedPreferencesImpl, 同样进行了同步。下面对存储加密并且没有解开的情况抛异常，接下来的一个判断解决了我们开头的那个 “特别注意”， 我们忽略了一个参数 mode，这个参数有一个可选值为 Context.MODE_MULTI_PROCESS， 在 HONEYCOMB 之前，其他进程在我们之后修改了配置，我们会重新加载它，先在不做处理，也不推荐使用这个参数了。</p>
<p>这样，我们得到了 SharedPreferencesImpl 的对象。</p>
<h2 id="如果要我去实现一个-SharedPreferences"><a href="#如果要我去实现一个-SharedPreferences" class="headerlink" title="如果要我去实现一个 SharedPreferences"></a>如果要我去实现一个 SharedPreferences</h2><p>接口已经有了，如果让我们去实现他们，我们可能会实现的非常简单。</p>
<ol>
<li>首先打算用 HashMap 来存储键值对，作为内存缓存。</li>
<li>实现那些获取值的方法。</li>
<li>存储为 xml，在初始化 SharedPreference 的时候读取解析成 HashMap。</li>
<li>感觉都不需要 单独有个 Editor，为什么不直接在 SharePreference 里定义写的方法呢？</li>
<li>对于写的方法也不过是对 HashMap 的 put。</li>
<li>apply/commit 分别实现异步和同步的把 HashMap 保存为 xml。</li>
</ol>
<p>是不是很简单？考虑到并发，我们需要把读和写的操作加锁。</p>
<p>好，下面就把我的想法和 SharedPreferencesImpl 实现比较一下，它的实现实在是太复杂了。我们要去探索它复杂背后的原由。</p>
<h2 id="SharedPreferencesImpl"><a href="#SharedPreferencesImpl" class="headerlink" title="SharedPreferencesImpl"></a>SharedPreferencesImpl</h2><p><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/SharedPreferencesImpl.java" target="_blank" rel="noopener">这是 SharedPreferencesImpl 的源码</a></p>
<p>SharedPreferencesImpl 所有代码都在上面一个文件中，只有一个队列的代码单独为一个文件，最后在讨论它。</p>
<p>我们上面考虑到的步骤，它都实现了，下面我们就一次来看看。</p>
<h3 id="加载数据到内存"><a href="#加载数据到内存" class="headerlink" title="加载数据到内存"></a>加载数据到内存</h3><p>它的确使用了 Map 来缓存数据，从文件解析 xml 来加载数据，在构造函数里调用了 startLoadFromDisk() 来加载， 它里面 new 了一个新线程 调用了 loadFromDisk()。在它里面，的确做了解析 xml 成 map 的步骤。</p>
<h3 id="访问操作"><a href="#访问操作" class="headerlink" title="访问操作"></a>访问操作</h3><p>在获取 SharedPreferencesImpl 之前，也就是文章开头介绍的两个同步，对于特定名称的配置，实际上保证了单例。但是因为 loadFromDisk() 是在单独线程执行完成的，也就是说数据还没有读取完成，构造函数就返回了，也就可以调用 get 方法了，这肯定出问题，所以所有的访问操作，你会看到都是如下的样式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">XXXX</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (mLock) &#123;</span><br><span class="line">        awaitLoadedLocked();</span><br><span class="line">        <span class="keyword">return</span> mMap.XXXX(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关键就在 awaitLoadedLocked()，它会判断如果还没有加载完成就会一直等待，并且如果加载过程中出现异常，这时候也会报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (!mLoaded) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        mLock.wait();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException unused) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (mThrowable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(mThrowable);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>着我们就知道，如果我们的配置文件如果太大，加载过程就会很长，如果我们的访问操作在UI线程就可能倒置界面卡顿，虽然只有一次。</p>
<h3 id="为什么要有个专门的-Editor"><a href="#为什么要有个专门的-Editor" class="headerlink" title="为什么要有个专门的 Editor"></a>为什么要有个专门的 Editor</h3><p>我们先来把简单的打扫完成，EditImpl 内使用一个 HashMap 来存储修改了的键值对，所有的写操作除了 clear 使用了一个专门的属性来保存，其他操作都是作用在这个 HashMap 上。</p>
<p>而关键的逻辑在 commitToMemory() 里， commit 和 apply 都是调用了它。实现将加载的 map 和修改的 map 做差，然后将结果存到了专门的一个 内部类里 MemoryCommitResult。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (mEditorLock) &#123;</span><br><span class="line">    <span class="keyword">boolean</span> changesMade = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (mClear) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mapToWriteToDisk.isEmpty()) &#123;</span><br><span class="line">            changesMade = <span class="keyword">true</span>;</span><br><span class="line">            mapToWriteToDisk.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        mClear = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; e : mModified.entrySet()) &#123;</span><br><span class="line">        String k = e.getKey();</span><br><span class="line">        Object v = e.getValue();</span><br><span class="line">        <span class="comment">// "this" is the magic value for a removal mutation. In addition,</span></span><br><span class="line">        <span class="comment">// setting a value to "null" for a given key is specified to be</span></span><br><span class="line">        <span class="comment">// equivalent to calling remove on that key.</span></span><br><span class="line">        <span class="keyword">if</span> (v == <span class="keyword">this</span> || v == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!mapToWriteToDisk.containsKey(k)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mapToWriteToDisk.remove(k);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (mapToWriteToDisk.containsKey(k)) &#123;</span><br><span class="line">                Object existingValue = mapToWriteToDisk.get(k);</span><br><span class="line">                <span class="keyword">if</span> (existingValue != <span class="keyword">null</span> &amp;&amp; existingValue.equals(v)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            mapToWriteToDisk.put(k, v);</span><br><span class="line">        &#125;</span><br><span class="line">        changesMade = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (hasListeners) &#123;</span><br><span class="line">            keysModified.add(k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mModified.clear();</span><br><span class="line">    <span class="keyword">if</span> (changesMade) &#123;</span><br><span class="line">        mCurrentMemoryStateGeneration++;</span><br><span class="line">    &#125;</span><br><span class="line">    memoryStateGeneration = mCurrentMemoryStateGeneration;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先看 mClear 标志，如果清空，直接把 mapToWriteToDiskWriteToDisk 清空，mapToWriteToDiskWriteToDisk 是谁，就是 mMap，当前的配置键值对。接下来遍历 mModified，这个遍历完全放在判断 mClear 的 else 里嘛！不过考虑到监听值得变化，还是不能放到 else 里的，对于提交修改的key，在 clear 的时候还是会收到修改的回调，但是如果只是 clear 了，不会收到修改的回调。这部分逻辑在 notifyListeners(final MemoryCommitResult mcr)：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Looper.myLooper() == Looper.getMainLooper()) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = mcr.keysModified.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">      <span class="keyword">final</span> String key = mcr.keysModified.get(i);</span><br><span class="line">      <span class="keyword">for</span> (OnSharedPreferenceChangeListener listener : mcr.listeners) &#123;</span><br><span class="line">          <span class="keyword">if</span> (listener != <span class="keyword">null</span>) &#123;</span><br><span class="line">              listener.onSharedPreferenceChanged(SharedPreferencesImpl.<span class="keyword">this</span>, key);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// Run this function on the main thread.</span></span><br><span class="line">  ActivityThread.sMainThreadHandler.post(() -&gt; notifyListeners(mcr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里还保证了回调一定在 UI 线程，这写法很棒，判断如果不是在主线成，就在主线程再调一遍自己。尤其是使用了 lambda，更加有没。</p>
<h3 id="apply-和-commit-实现区别"><a href="#apply-和-commit-实现区别" class="headerlink" title="apply() 和 commit() 实现区别"></a>apply() 和 commit() 实现区别</h3><p>commit() 里：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MemoryCommitResult mcr = commitToMemory();</span><br><span class="line">SharedPreferencesImpl.<span class="keyword">this</span>.enqueueDiskWrite(</span><br><span class="line">    mcr, <span class="keyword">null</span> <span class="comment">/* sync write on this thread okay */</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    mcr.writtenToDiskLatch.await();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">        Log.d(TAG, mFile.getName() + <span class="string">":"</span> + mcr.memoryStateGeneration</span><br><span class="line">                + <span class="string">" committed after "</span> + (System.currentTimeMillis() - startTime)</span><br><span class="line">                + <span class="string">" ms"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">notifyListeners(mcr);</span><br><span class="line"><span class="keyword">return</span> mcr.writeToDiskResult;</span><br></pre></td></tr></table></figure>

<p>在提交内存后，也就是将修改事假到当前键值对map后，生成了一个 MemoryCommitResult 对象，在传给 enqueueDiskWrite() 后，会被传给 Runnable 里执行的 writeToFile(), 紧接着把 Runnable 入队列。</p>
<p>接下来，入队列后，调用 mcr.writtenToDiskLatch.await()，实现同步，这就是为什么说 commit 是同步的。writtenToDiskLatch 是一个 CountDownLatch，会在 mcr 的 setDiskWriteResult 被调用后，通知阻塞的线程运行，而 setDiskWriteResult 在上面的 writeToFile() 方法内，将改变后的配置写入完成后调用。</p>
<p>上面是 commit 如何实现同步保存的，下面再看看 apply 如何实现异步的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> MemoryCommitResult mcr = commitToMemory();</span><br><span class="line"><span class="keyword">final</span> Runnable awaitCommit = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                mcr.writtenToDiskLatch.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException ignored) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (DEBUG &amp;&amp; mcr.wasWritten) &#123;</span><br><span class="line">                Log.d(TAG, mFile.getName() + <span class="string">":"</span> + mcr.memoryStateGeneration</span><br><span class="line">                        + <span class="string">" applied after "</span> + (System.currentTimeMillis() - startTime)</span><br><span class="line">                        + <span class="string">" ms"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">QueuedWork.addFinisher(awaitCommit);</span><br><span class="line">Runnable postWriteRunnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            awaitCommit.run();</span><br><span class="line">            QueuedWork.removeFinisher(awaitCommit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">SharedPreferencesImpl.<span class="keyword">this</span>.enqueueDiskWrite(mcr, postWriteRunnable);</span><br></pre></td></tr></table></figure>

<p>它同样的先提交改动到内存，返回一个 MemoryCommitResult 的对象，然后在 Runnable 里等待写入文件完成，把这个 Runnable 加入了 QueuedWork。接下来，又在一个 postWriteRunnable 里执行之前那个 awaitCommit， 并从QueuedWork移除刚才设置的它， 为什么呢？</p>
<p>Android为了让在一个页面设置的配置在其他界面生效采取了一个机制，就是要保证在当前界面不可见时一定要保证配置保存完毕。所以在 ActivityThread 里的处理服务停止和 Activity 停止的地方调用了 QueuedWork 的 waitToFinish, 它里面就会遍历，所有的通过  addFinisher 添加的 Runnable。 而在每个写入操作完成后，当然可以移除了。</p>
<hr>
<blockquote>
<p>官方源码：<br><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/SharedPreferencesImpl.java" target="_blank" rel="noopener">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/SharedPreferencesImpl.java</a><br><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/QueuedWork.java" target="_blank" rel="noopener">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/QueuedWork.java</a><br><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/ActivityThread.java" target="_blank" rel="noopener">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/ActivityThread.java</a><br>墙裂推荐这篇文章，太好了，我得好好学习了<br><a href="http://weishu.me/2016/10/13/sharedpreference-advices/" target="_blank" rel="noopener">请不要滥用SharedPreference</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/applay-commit/" data-id="ck97t35e500ld1wr7davpg8ok" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SharedPreferences/" rel="tag">SharedPreferences</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%98%E5%82%A8/" rel="tag">存储</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-how-to-write-blog-about-programming" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/how-to-write-blog-about-programming/" class="article-date">
  <time datetime="2018-05-25T08:27:00.000Z" itemprop="datePublished">2018-5-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/how-to-write-blog-about-programming/">&lt;翻译&gt;如何写一个超级棒的编程技术博客</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>想要提高编程技术写作水平，在搜索时看到一篇英语文章感觉挺好的，虽然是14年的，但正如文中所说，它是那种有长期价值的文章，所以翻译过来分享给大家。<br>文中一些人名，文章标题没有翻译。</p>
</blockquote>
<p>我希望你去写作，而不仅仅是写代码。</p>
<p>如果你是开源社区的一员，你可以通过写关于编程的文章来帮助我们，这种帮助跟编程提供的帮助是一样重要的。同时写作也对你有帮助，你可以为人所知，传播自己的想法。</p>
<p>更重要的，写作就是思考。没有哪种方式能比通过写作来解释一个东西更能让你对它深入理解了。</p>
<h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><p>你的专业知识有多狭窄不要紧。如果你比任何人都更好的解析纽约地铁的日程，我希望你能写出它来。如果你会教你的猫去照顾电子鸡，我绝对想让你写写你是怎么做到的。无论你精于什么，写出你所知道的。当我有一个问题是你所精通的时，我知道向你寻求帮助。</p>
<p>比如，<a href="https://pypi.python.org/pypi/happybase/" target="_blank" rel="noopener">HappyBase</a> 的作者，一个 HBase 的 Python 驱动者，在他开始他的项目时给我发邮件询问我的建议。他从我的博客得知我做了两个 MongoDB 的驱动，他的关于连接池的问题我应该是遇到过得。跟他工作是很刺激的，而且对于我希望贡献一个流行的项目的愿望也的到了满足。</p>
<p>在你的社区里被人熟知或者是个令人信服的解释者对你很会很有帮助。你的补丁更可能被项目接受，讲话也容易被会议接受，容易得到更多用户，容易得到工作。</p>
<p>对一个 bug 进行解释要求你彻底思考这个问题，这种方式比其他任何技术都好。我如此相信 “写作即思考”<br> 以至于当我看见一个难解的 bug 时，我的第一步是去写一篇文章。我去年在 PyMongo 项目遇到一个连接池问题的时候就是这样办的。所以有了这篇文章 <a href="https://emptysqua.re/blog/another-thing-about-pythons-threadlocals/" target="_blank" rel="noopener">assigning to a threadlocal is not thread-safe</a>。亲爱的读者我并没有那么聪明能够发现如此一个错综复杂的条件竞争，只是因为我通过写作来解释这个问题的时候，能对每一步深刻思考。</p>
<h2 id="What"><a href="#What" class="headerlink" title="What?"></a>What?</h2><p> 我大致注意到五种程序员写的最好的文章： 讲个故事，说明一种观点，如何去做一件事或者使用一样东西，一个东西是如何工作的，还有就是评论一个东西。如果你想写，但是不知道选择什么主题，或者不知道如何写它，下面的内容能解决你的问题。</p>
<h3 id="Story"><a href="#Story" class="headerlink" title="Story"></a>Story</h3><p>“我将要给你讲一个关于什么的故事，它教会了我怎么一个道理，导致了一个什么样的结果。首先发生了一件什么事情，然后又发生了一件什么事情。这就是关于那个什么的故事”</p>
<p>一些思路：</p>
<ol>
<li><a href="https://groups.google.com/forum/#!topic/mongodb-user/UoqU8ofp134" target="_blank" rel="noopener">We had an outage, this is the post-mortem.</a></li>
<li><a href="https://emptysqua.re/blog/recap-open-source-bridge/" target="_blank" rel="noopener">I went to a conference, heard talks, met people, learned something.</a></li>
<li><a href="http://meghangill.com/2013/06/05/how-i-survived-a-tough-mudder-with-my-fitbit-intact/" target="_blank" rel="noopener">I survived a tough mudder and so did my FitBit.</a></li>
<li><a href="https://emptysqua.re/blog/good-night-sweet-hamster/" target="_blank" rel="noopener">I had dwarf hamsters. They died. I grieved, then accepted.</a></li>
</ol>
<p>我们天生就对人们的故事有兴趣。你不必为此自责或厌烦。如果我通过你的博客对你有所了解，你的技术文章会更加温暖，我会对你印象深刻。</p>
<h3 id="Opinion"><a href="#Opinion" class="headerlink" title="Opinion"></a>Opinion</h3><p>“论点。对不同意见的回应。对论点的重申。”　就像我在高中学到的一样。最重要的是，不是简单的说明一个观点，而是能提出引人注目的论据，带有趣味的去支持你的论点。</p>
<p>思路：</p>
<p>１. 一个什么东西将会成为下一个伟大的东西（锤子的ＴＮＴ将会成为下一代个人电脑）<br>２. 一个什么东西比另一个什么东西更好<br>３. <a href="http://alexgaynor.net/2014/may/19/service/" target="_blank" rel="noopener">Open source authors have a grave responsibility to their users.</a><br>4. <a href="http://jvns.ca/blog/2014/04/26/i-dont-feel-guilty-about-not-contributing-to-open-source/" target="_blank" rel="noopener">It’s okay not to contribute to open source.</a><br>5. <a href="https://emptysqua.re/blog/so-youre-coming-to-a-career-fair/" target="_blank" rel="noopener">College students do career fairs wrong.</a></p>
<h3 id="How-To"><a href="#How-To" class="headerlink" title="How-To"></a>How-To</h3><p>“在某种特定条件下做某件事是重要的。我将会想你展示如何做这种事。先这样做，然后做那个。好了，我想你展示了如何做这件事。你应该自己动手去做做了。”</p>
<p>思路：</p>
<ol>
<li>如何解决调试 crash 问题，没存泄露问题，条件竞争问题？</li>
<li><a href="http://www.kennethreitz.org/essays/growing-open-source-seeds" target="_blank" rel="noopener">How do you cultivate an open source project?</a></li>
<li><a href="http://speaking.io/plan/repetition/" target="_blank" rel="noopener">How do you prepare a talk?</a></li>
<li><a href="http://meghangill.com/2012/03/11/how-to-run-a-tech-conference-part-1-getting-started/" target="_blank" rel="noopener">How do you run a conference?</a></li>
<li>只要你解决了一个问题，你就可以写一篇文章来介绍你是怎样做的</li>
</ol>
<h3 id="How-Something-Works"><a href="#How-Something-Works" class="headerlink" title="How Something Works"></a>How Something Works</h3><p>“你想知道某个东西是如何工作的吗？我将会展示给你看它是怎么实现的。它做了这个，做了那个。现在我向你展示了它是如何工作的。”</p>
<p>对于几乎所有我觉得难的技术，在我读了它的源码以后，都会感觉更容易理解。为了能够对某个事物深入浅出，写作吧。</p>
<p>一个 “how something works” 的文章不需要动机。真的，一些读者为了更好的使用它，就会想去看看它是如何工作的。有很多想我这样的人，想知道所有东西是如何工作的，我们是这种文章的读者。 那些不想知道的人可以不去看。</p>
<p>思路：</p>
<ol>
<li>Django ORM 是如何生成 SQL 的？</li>
<li>socket.settimeout() 是如何工作的？</li>
<li><a href="http://akaptur.github.io/blog/2014/06/11/of-syntax-warnings-and-symbol-tables/" target="_blank" rel="noopener">Why does this Python code raise a SyntaxWarning?</a></li>
<li><a href="http://late.am/post/2012/06/18/what-the-heck-is-an-xrange" target="_blank" rel="noopener">How does xrange work?</a></li>
</ol>
<h3 id="Reviews"><a href="#Reviews" class="headerlink" title="Reviews"></a>Reviews</h3><p>“我读了，或者看了，或者玩了，或者使用了某个东西。它是这么个样子的。我的体验是这样的。这个东西有这样的缺点，有那样的优点。总之，在某种情况下它是最好的。”</p>
<p>我们可能都喜欢去评价一本书，电影，游戏或者项目的好坏，但是这样没什么用。更多的是去描述和分析而不是评论好坏。告诉我这个东西为什么好。</p>
<p>思路：</p>
<ol>
<li>技术书籍！不必是最近出版的，但在你的领域内。以评价的心态去读一本书能够让你读的更仔细，你也能从中学习到好的写作技术。<a href="https://emptysqua.re/blog/building-node-applications-mongodb-backbone/" target="_blank" rel="noopener">这是我对 O’Reilly 的 “Building Node Applications with MongoDB and Backbone” 的评价</a></li>
<li>其他软件项目。但是言辞要得体。</li>
<li>游戏，电影，音乐，非编程类的书籍：写评论是最好的练习，并且能够让你的博客吸粉。</li>
</ol>
<h2 id="你如何寻找读者"><a href="#你如何寻找读者" class="headerlink" title="你如何寻找读者"></a>你如何寻找读者</h2><p>请不要关心有没有人来看。这不是写编程博客的目的。Seth Godin 说：“大部分时候，你致力于取悦大众，却总是失败。—-”</p>
<p>既然不关心有没有人来看，就不要浪费时间做 SEO。你的目标不是去获得很多点击。你不是 BuzzFeed(媒体公司)。随机访问者对你没有价值，因为你不是展示广告。你的目标是吸引你领域的专业人士以便于你们可以分享观点。幸运的是，你不需要花多少力气就能让这些专业人士看到你的博客。</p>
<p>首先，找到你们社区阅读的聚合器。我写了很多关于 Python 的，Planet Python聚合器是我至今最好的分发文章的渠道。我只要把文章放进 Python 类别，它就会被纳入 feed, 这给我带来几百个访问者。如果把你的文章加入 Planet Python, 参考<a href="https://github.com/python/planet" target="_blank" rel="noopener">这个文章</a>。如果你写关于其他语言或技术的博客，找到它的聚合器，请求把你的文章纳入其中。</p>
<p>在 Tweeter 上发文章有一定价值。更有价值的是在 Reddit 上相关的子模块发文章。在你的主页上放上你最好的文章，而不是最近发布的文章。关于这点可以看<a href="https://training.kalzumeus.com/newsletters/archive/content-marketing-strategy" target="_blank" rel="noopener">这个文章</a>。</p>
<p>你可以在 Hacker News 试试运气，不过前面已经说过，没人会很严肃的去哪，我也不会。</p>
<h2 id="你如何进一步提高"><a href="#你如何进一步提高" class="headerlink" title="你如何进一步提高"></a>你如何进一步提高</h2><p>写！！！模仿最好的博客撰写者和最好的文章。</p>
<p>不要模仿 Daring Fireball， GigaOM 或者 TechCrunch。这些都是工业新闻网站，最终只会关心一个问题： 那个公司股票涨了那个公司股票降了? 这不是你的专业只是。这很无聊。要去模仿下面这样的：</p>
<p>Glyph Lefkowitz 在 <a href="https://glyph.twistedmatrix.com/2014/02/unyielding.html" target="_blank" rel="noopener">Unyilding</a> 中讨论了异步的最大作用不是效率，而是让竞争条件更容易避免。</p>
<p>Kristina Chodorow 在 <a href="http://www.kchodorow.com/blog/2013/04/09/stock-option-basics/" target="_blank" rel="noopener">Stock Option Basics</a>里讲了一个他个人的退出创业公司的故事，比其他作者都更好的描述了股票期权是如何工作的。在<a href="http://www.kchodorow.com/blog/2011/01/25/why-command-helpers-suck/" target="_blank" rel="noopener">Why Command Helper Suck</a>她公开严词批评了一些 MongoDB 设计，因为它们让用户无法理解。她的在 MongoleDB单元测试 的文章是非常专业的，我已经提过很多次它填补了 MongoDB 开发文档的可怕的空白。Kristina 有趣而亲和的语调在她的博客和 O’Reilly 出版的《MongoDB： The Definitive Guide》都有充分的体现。</p>
<p>Armin Ronacher 的文章　<a href="http://lucumr.pocoo.org/2011/2/1/exec-in-python/" target="_blank" rel="noopener">Exec in Python</a> 挺长的，难以执行的全面。看完它需要一个多小时。他花了几天去写它。我确信他在发表后还一直在完善。这篇文章对　Python2 和 Python3 发表了深刻的见解，讲解了 web2py 如何工作的，而且提出了他构造的替代的运行机制。</p>
<p>Julia Evans 在她的博客里表现的很随意，有激情，她说话也如此。但是别上当，她的这两篇(<a href="https://jvns.ca/blog/2014/06/06/should-my-conference-do-anonymous-review/" target="_blank" rel="noopener">Should my conference do anonymous review?</a> and <a href="https://jvns.ca/blog/2014/06/19/machine-learning-isnt-kaggle-competitions/" target="_blank" rel="noopener">Machine learning isn’t Kaggle competitions</a>)文章都表现出她很细心。</p>
<p>Graham Dumpleton 的 <a href="https://github.com/GrahamDumpleton/wrapt/tree/master/blog" target="_blank" rel="noopener">magisterial series on Python decorators </a> 在这话题上淘汰了其它所有的文章。</p>
<p>在 Open Source Bridge 上，你可以找到更多模仿的对象，学到更多提高编程写作的技巧。</p>
<h2 id="如何挤出时间来写作"><a href="#如何挤出时间来写作" class="headerlink" title="如何挤出时间来写作"></a>如何挤出时间来写作</h2><p>写作不必定期，不用说每天一篇，或者每周几篇。你最大的价值在于那些偶尔写出的深入的文章。另外也不用现在就要去写篇文章，因为最好的主题就在平时。<a href="https://training.kalzumeus.com/newsletters/archive/content-marketing-strategy" target="_blank" rel="noopener">Patrick McKenzie</a> 所：“你可以并且应该制定一个策略，主要去写有长期价值的东西。写那些能够有持续价值的文章和那些短命的文章花的时间几乎是一样的。”</p>
<p>所以慢慢来，当你有好的注意或者不一般的经验时，你将会被催促这去写就它。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>你有关于编程的非常特别又值得写的的事情，或者你有一种新的方式解释一个常见的话题。无论哪一个，我希望你写出来。解释的过程将会让你深刻理解，没有什么其他事能达到这个效果。如果你不知道写什么，看看我的建议，或者从一些好的博客找灵感。创造有长期价值的文章。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/how-to-write-blog-about-programming/" data-id="ck97t35e300lb1wr7cgsxa7ga" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%99%E4%BD%9C/" rel="tag">写作</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-simple-upload-aar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/simple-upload-aar/" class="article-date">
  <time datetime="2018-05-24T10:19:00.000Z" itemprop="datePublished">2018-5-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/simple-upload-aar/">这恐怕是史上最简单的上传 AAR 教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在做项目的时候，抽出来一些工具方法，然后做其他项目的时候需要使用，只是后就有将这些工具方法抽出来单独形成一个库的需求了。在 Android Studio 里就是 AAR。<br>因为我是个人开发，想到方便的方法就是把 AAR 上传到本地 maven 库，用到的项目只需要添加对它的依赖就可以了。</p>
<h2 id="上传配置"><a href="#上传配置" class="headerlink" title="上传配置"></a>上传配置</h2><h5 id="1-首先在要上传的模块的-build-gradle-里最外层添加如下代码，并做相应的配置"><a href="#1-首先在要上传的模块的-build-gradle-里最外层添加如下代码，并做相应的配置" class="headerlink" title="1. 首先在要上传的模块的 build.gradle 里最外层添加如下代码，并做相应的配置"></a>1. 首先在要上传的模块的 build.gradle 里最外层添加如下代码，并做相应的配置</h5><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">apply plugin: <span class="string">'maven'</span> <span class="comment">// 引入maven插件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">group</span> = <span class="string">'your group'</span> <span class="comment">// 会按照group生成.m2下的目录路径</span></span><br><span class="line">version = <span class="string">'your release'</span> <span class="comment">// 指定版本</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> localMavenRepo = <span class="string">'file://'</span> + <span class="keyword">new</span> <span class="keyword">File</span>(System.getProperty(<span class="string">'user.home'</span>), <span class="string">'.m2/repository'</span>).absolutePath</span><br><span class="line"></span><br><span class="line">uploadArchives &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        mavenDeployer &#123;</span><br><span class="line">            repository(url: localMavenRepo)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你需要自己配置模块的版本，组。<br>需要说明的是，要上传的目标仓库需要明确指明，如上面的 localMavenRepo，而依赖仓库则只需要 mavenLocal()</p>
<h5 id="2-同步一下你的配置"><a href="#2-同步一下你的配置" class="headerlink" title="2. 同步一下你的配置"></a>2. 同步一下你的配置</h5><h5 id="3-在-Android-Studio-的-Gradle-面板里执行-uploadArchives-task"><a href="#3-在-Android-Studio-的-Gradle-面板里执行-uploadArchives-task" class="headerlink" title="3. 在 Android Studio 的 Gradle 面板里执行 uploadArchives task"></a>3. 在 Android Studio 的 Gradle 面板里执行 uploadArchives task</h5><h5 id="4-在需要你的库的地方，-添加一个仓库-mavenLocal-添加依赖"><a href="#4-在需要你的库的地方，-添加一个仓库-mavenLocal-添加依赖" class="headerlink" title="4. 在需要你的库的地方， 添加一个仓库 mavenLocal(), 添加依赖"></a>4. 在需要你的库的地方， 添加一个仓库 mavenLocal(), 添加依赖</h5><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">'your group: projectName:your release'</span></span><br></pre></td></tr></table></figure>

<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>默认上传的是 release 版本，debug 开关是关着的，需要手动设置为 debug 版本</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/simple-upload-aar/" data-id="ck97t358u005u1wr73m37eo2v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AAR/" rel="tag">AAR</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/7/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E7%94%9F/">人生</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E4%BD%9C/">工作</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B5%84%E6%BA%90/">资源</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/">转载</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E5%8A%A8/">运动</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AAR/" rel="tag">AAR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AVFrame/" rel="tag">AVFrame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AVPacket/" rel="tag">AVPacket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-Studio/" rel="tag">Android Studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/App/" rel="tag">App</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Atomic-Habits/" rel="tag">Atomic Habits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AtomicHabits/" rel="tag">AtomicHabits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioRecord/" rel="tag">AudioRecord</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioRecorder/" rel="tag">AudioRecorder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioTrack/" rel="tag">AudioTrack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BDD/" rel="tag">BDD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BufferQueue/" rel="tag">BufferQueue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPIO/" rel="tag">CPIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Camera/" rel="tag">Camera</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Camera2/" rel="tag">Camera2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Graphics/" rel="tag">Graphics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Intent/" rel="tag">Intent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jekyll/" rel="tag">Jekyll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotlin/" rel="tag">Kotlin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaCodec/" rel="tag">MediaCodec</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaExtractor/" rel="tag">MediaExtractor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaMuxer/" rel="tag">MediaMuxer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL/" rel="tag">OpenGL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PCM/" rel="tag">PCM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PendingIntent/" rel="tag">PendingIntent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QueueWorker/" rel="tag">QueueWorker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RPM/" rel="tag">RPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Root/" rel="tag">Root</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharedPrefenrences/" rel="tag">SharedPrefenrences</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharedPreferences/" rel="tag">SharedPreferences</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SurafceFlinger/" rel="tag">SurafceFlinger</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Surface/" rel="tag">Surface</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SurfaceTextue/" rel="tag">SurfaceTextue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SurfaceView/" rel="tag">SurfaceView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TextureView/" rel="tag">TextureView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIM/" rel="tag">VIM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebDriver/" rel="tag">WebDriver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decoder/" rel="tag">decoder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nio/" rel="tag">nio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/repo/" rel="tag">repo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/" rel="tag">zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%A4%E6%80%A7/" rel="tag">两性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%A0%E6%83%AF/" rel="tag">习惯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%A0%E8%AF%AD/" rel="tag">习语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E7%94%9F/" rel="tag">人生</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8A%E6%97%A5%E8%AE%B0/" rel="tag">今日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%B0%E5%8D%A7%E8%B5%B7%E5%9D%90/" rel="tag">仰卧起坐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%81%A5%E5%BA%B7/" rel="tag">健康</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%99%E4%BD%9C/" rel="tag">写作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E6%80%9D/" rel="tag">反思</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%A3%E5%8F%B7/" rel="tag">口号</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%89%E4%BB%96/" rel="tag">吉他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8C%E5%AD%A6/" rel="tag">同学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9D%9A%E6%8C%81/" rel="tag">坚持</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E6%B3%A2/" rel="tag">声波</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E9%9F%B3%E7%9A%84%E6%95%B0%E5%AD%97%E5%8C%96/" rel="tag">声音的数字化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E5%9D%91/" rel="tag">大坑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E8%84%91/" rel="tag">大脑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8/" rel="tag">存储</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E6%97%B6%E5%80%99/" rel="tag">小时候</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%AF%B4/" rel="tag">小说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E7%BA%AA/" rel="tag">年纪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%A7%8B/" rel="tag">开始</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E6%B5%81/" rel="tag">心流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E7%90%86%E5%AD%A6/" rel="tag">心理学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E6%83%B3/" rel="tag">思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E8%80%83/" rel="tag">思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E8%80%83%E6%80%BB%E7%BB%93/" rel="tag">思考总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%81%8B%E7%88%B1/" rel="tag">恋爱</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A7%E5%88%B6/" rel="tag">控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%AD%E8%AE%AA/" rel="tag">搭讪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B4%E7%90%86/" rel="tag">整理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" rel="tag">文件格式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%AD%E8%88%8D%E7%A6%BB/" rel="tag">断舍离</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95/" rel="tag">方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E5%AD%A6/" rel="tag">方法学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E8%AE%BA/" rel="tag">方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%85%E6%B8%B8/" rel="tag">旅游</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E7%85%A7/" rel="tag">日照</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" rel="tag">时间管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%91%E4%B8%8A%E6%98%A5%E6%A0%91/" rel="tag">村上春树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%81%E7%AE%80%E7%94%9F%E6%B4%BB/" rel="tag">极简生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A2%A6%E6%83%B3/" rel="tag">梦想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E4%BB%BF/" rel="tag">模仿</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%85%E5%8A%9B/" rel="tag">毅力</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9/" rel="tag">每天一点点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" rel="tag">测试驱动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E7%82%B9/" rel="tag">热点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8A%B6%E6%80%81/" rel="tag">状态</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%8B%E5%B0%8F%E6%B3%A2/" rel="tag">王小波</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%90%90%E4%BA%8B/" rel="tag">琐事</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%AD%BB/" rel="tag">生死</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E7%90%86%E5%AD%A6/" rel="tag">生理学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E7%9A%84/" rel="tag">目的</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E6%9C%BA/" rel="tag">相机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9C%9F%E5%AE%9E/" rel="tag">真实</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9D%A1%E8%A7%89/" rel="tag">睡觉</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" rel="tag">碎碎念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A4%BA%E4%BE%8B/" rel="tag">示例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%91%E6%99%AE/" rel="tag">科普</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%BB%E6%B0%91/" rel="tag">移民</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" rel="tag">程序员</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B2%BE%E7%A5%9E/" rel="tag">精神</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88/" rel="tag">经验之谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%93%E5%A9%9A/" rel="tag">结婚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%98%E7%94%BB/" rel="tag">绘画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%8A%E5%A4%A9/" rel="tag">聊天</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E6%88%91%E5%AE%8C%E5%96%84/" rel="tag">自我完善</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%85/" rel="tag">自由开发者</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%A6%E8%A1%8C/" rel="tag">苦行</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%9B%80%E7%89%99/" rel="tag">蛀牙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" rel="tag">行为驱动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%A3%E7%A0%81/" rel="tag">解码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%80%E6%83%85/" rel="tag">言情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E5%88%92/" rel="tag">计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%97/" rel="tag">诗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%84%8F/" rel="tag">语意</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag">语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" rel="tag">语法糖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B5%84%E6%BA%90/" rel="tag">资源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BA%AB%E4%BD%93/" rel="tag">身体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E8%89%BA%E5%AE%A3%E8%A8%80/" rel="tag">软件工艺宣言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E5%8C%96%E5%AD%A6/" rel="tag">进化学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%BB%E7%82%BC/" rel="tag">锻炼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98/" rel="tag">问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%85%E8%AF%BB/" rel="tag">阅读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%AE%E7%90%A6/" rel="tag">阮琦</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E4%B9%90/" rel="tag">音乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6/" rel="tag">音频文件</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AAR/" style="font-size: 10px;">AAR</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AVFrame/" style="font-size: 10px;">AVFrame</a> <a href="/tags/AVPacket/" style="font-size: 10px;">AVPacket</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-Studio/" style="font-size: 10px;">Android Studio</a> <a href="/tags/App/" style="font-size: 11.11px;">App</a> <a href="/tags/Atomic-Habits/" style="font-size: 10px;">Atomic Habits</a> <a href="/tags/AtomicHabits/" style="font-size: 10px;">AtomicHabits</a> <a href="/tags/AudioRecord/" style="font-size: 11.11px;">AudioRecord</a> <a href="/tags/AudioRecorder/" style="font-size: 10px;">AudioRecorder</a> <a href="/tags/AudioTrack/" style="font-size: 11.11px;">AudioTrack</a> <a href="/tags/BDD/" style="font-size: 13.33px;">BDD</a> <a href="/tags/BufferQueue/" style="font-size: 10px;">BufferQueue</a> <a href="/tags/C/" style="font-size: 11.11px;">C</a> <a href="/tags/CPIO/" style="font-size: 10px;">CPIO</a> <a href="/tags/Camera/" style="font-size: 10px;">Camera</a> <a href="/tags/Camera2/" style="font-size: 10px;">Camera2</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/Graphics/" style="font-size: 17.78px;">Graphics</a> <a href="/tags/Intent/" style="font-size: 10px;">Intent</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jekyll/" style="font-size: 10px;">Jekyll</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Kotlin/" style="font-size: 12.22px;">Kotlin</a> <a href="/tags/MediaCodec/" style="font-size: 15.56px;">MediaCodec</a> <a href="/tags/MediaExtractor/" style="font-size: 10px;">MediaExtractor</a> <a href="/tags/MediaMuxer/" style="font-size: 10px;">MediaMuxer</a> <a href="/tags/OpenGL/" style="font-size: 17.78px;">OpenGL</a> <a href="/tags/PCM/" style="font-size: 10px;">PCM</a> <a href="/tags/PendingIntent/" style="font-size: 10px;">PendingIntent</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/QueueWorker/" style="font-size: 10px;">QueueWorker</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Root/" style="font-size: 10px;">Root</a> <a href="/tags/SharedPrefenrences/" style="font-size: 10px;">SharedPrefenrences</a> <a href="/tags/SharedPreferences/" style="font-size: 10px;">SharedPreferences</a> <a href="/tags/SurafceFlinger/" style="font-size: 10px;">SurafceFlinger</a> <a href="/tags/Surface/" style="font-size: 11.11px;">Surface</a> <a href="/tags/SurfaceTextue/" style="font-size: 10px;">SurfaceTextue</a> <a href="/tags/SurfaceView/" style="font-size: 10px;">SurfaceView</a> <a href="/tags/TDD/" style="font-size: 13.33px;">TDD</a> <a href="/tags/TextureView/" style="font-size: 11.11px;">TextureView</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VIM/" style="font-size: 10px;">VIM</a> <a href="/tags/WebDriver/" style="font-size: 10px;">WebDriver</a> <a href="/tags/decoder/" style="font-size: 10px;">decoder</a> <a href="/tags/ffmpeg/" style="font-size: 16.67px;">ffmpeg</a> <a href="/tags/git/" style="font-size: 11.11px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/nio/" style="font-size: 10px;">nio</a> <a href="/tags/repo/" style="font-size: 10px;">repo</a> <a href="/tags/zsh/" style="font-size: 10px;">zsh</a> <a href="/tags/%E4%B8%A4%E6%80%A7/" style="font-size: 10px;">两性</a> <a href="/tags/%E4%B9%A0%E6%83%AF/" style="font-size: 10px;">习惯</a> <a href="/tags/%E4%B9%A0%E8%AF%AD/" style="font-size: 11.11px;">习语</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 10px;">人生</a> <a href="/tags/%E4%BB%8A%E6%97%A5%E8%AE%B0/" style="font-size: 10px;">今日记</a> <a href="/tags/%E4%BB%B0%E5%8D%A7%E8%B5%B7%E5%9D%90/" style="font-size: 10px;">仰卧起坐</a> <a href="/tags/%E5%81%A5%E5%BA%B7/" style="font-size: 11.11px;">健康</a> <a href="/tags/%E5%86%99%E4%BD%9C/" style="font-size: 11.11px;">写作</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a> <a href="/tags/%E5%8F%8D%E6%80%9D/" style="font-size: 10px;">反思</a> <a href="/tags/%E5%8F%A3%E5%8F%B7/" style="font-size: 10px;">口号</a> <a href="/tags/%E5%90%89%E4%BB%96/" style="font-size: 10px;">吉他</a> <a href="/tags/%E5%90%8C%E5%AD%A6/" style="font-size: 10px;">同学</a> <a href="/tags/%E5%9D%9A%E6%8C%81/" style="font-size: 10px;">坚持</a> <a href="/tags/%E5%A3%B0%E6%B3%A2/" style="font-size: 12.22px;">声波</a> <a href="/tags/%E5%A3%B0%E9%9F%B3%E7%9A%84%E6%95%B0%E5%AD%97%E5%8C%96/" style="font-size: 10px;">声音的数字化</a> <a href="/tags/%E5%A4%A7%E5%9D%91/" style="font-size: 10px;">大坑</a> <a href="/tags/%E5%A4%A7%E8%84%91/" style="font-size: 10px;">大脑</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 10px;">存储</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 12.22px;">学习</a> <a href="/tags/%E5%B0%8F%E6%97%B6%E5%80%99/" style="font-size: 10px;">小时候</a> <a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 10px;">小说</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 12.22px;">工作</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 11.11px;">工具</a> <a href="/tags/%E5%B9%B4%E7%BA%AA/" style="font-size: 10px;">年纪</a> <a href="/tags/%E5%BC%80%E5%A7%8B/" style="font-size: 10px;">开始</a> <a href="/tags/%E5%BF%83%E6%B5%81/" style="font-size: 10px;">心流</a> <a href="/tags/%E5%BF%83%E7%90%86%E5%AD%A6/" style="font-size: 11.11px;">心理学</a> <a href="/tags/%E6%80%9D%E6%83%B3/" style="font-size: 10px;">思想</a> <a href="/tags/%E6%80%9D%E8%80%83/" style="font-size: 14.44px;">思考</a> <a href="/tags/%E6%80%9D%E8%80%83%E6%80%BB%E7%BB%93/" style="font-size: 12.22px;">思考总结</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 10px;">总结</a> <a href="/tags/%E6%81%8B%E7%88%B1/" style="font-size: 10px;">恋爱</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">技术</a> <a href="/tags/%E6%8E%A7%E5%88%B6/" style="font-size: 10px;">控制</a> <a href="/tags/%E6%90%AD%E8%AE%AA/" style="font-size: 10px;">搭讪</a> <a href="/tags/%E6%95%B4%E7%90%86/" style="font-size: 10px;">整理</a> <a href="/tags/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" style="font-size: 10px;">文件格式</a> <a href="/tags/%E6%96%AD%E8%88%8D%E7%A6%BB/" style="font-size: 10px;">断舍离</a> <a href="/tags/%E6%96%B9%E6%B3%95/" style="font-size: 10px;">方法</a> <a href="/tags/%E6%96%B9%E6%B3%95%E5%AD%A6/" style="font-size: 10px;">方法学</a> <a href="/tags/%E6%96%B9%E6%B3%95%E8%AE%BA/" style="font-size: 10px;">方法论</a> <a href="/tags/%E6%97%85%E6%B8%B8/" style="font-size: 11.11px;">旅游</a> <a href="/tags/%E6%97%A5%E7%85%A7/" style="font-size: 10px;">日照</a> <a href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" style="font-size: 10px;">时间管理</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10px;">服务器</a> <a href="/tags/%E6%9D%91%E4%B8%8A%E6%98%A5%E6%A0%91/" style="font-size: 10px;">村上春树</a> <a href="/tags/%E6%9E%81%E7%AE%80%E7%94%9F%E6%B4%BB/" style="font-size: 10px;">极简生活</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/tags/%E6%A2%A6%E6%83%B3/" style="font-size: 10px;">梦想</a> <a href="/tags/%E6%A8%A1%E4%BB%BF/" style="font-size: 10px;">模仿</a> <a href="/tags/%E6%AF%85%E5%8A%9B/" style="font-size: 10px;">毅力</a> <a href="/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9/" style="font-size: 10px;">每天一点点</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" style="font-size: 13.33px;">测试驱动开发</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 11.11px;">源码</a> <a href="/tags/%E7%83%AD%E7%82%B9/" style="font-size: 10px;">热点</a> <a href="/tags/%E7%8A%B6%E6%80%81/" style="font-size: 10px;">状态</a> <a href="/tags/%E7%8E%8B%E5%B0%8F%E6%B3%A2/" style="font-size: 10px;">王小波</a> <a href="/tags/%E7%90%90%E4%BA%8B/" style="font-size: 10px;">琐事</a> <a href="/tags/%E7%94%9F%E6%AD%BB/" style="font-size: 10px;">生死</a> <a href="/tags/%E7%94%9F%E7%90%86%E5%AD%A6/" style="font-size: 10px;">生理学</a> <a href="/tags/%E7%9B%AE%E7%9A%84/" style="font-size: 10px;">目的</a> <a href="/tags/%E7%9B%B8%E6%9C%BA/" style="font-size: 10px;">相机</a> <a href="/tags/%E7%9C%9F%E5%AE%9E/" style="font-size: 10px;">真实</a> <a href="/tags/%E7%9D%A1%E8%A7%89/" style="font-size: 10px;">睡觉</a> <a href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" style="font-size: 12.22px;">碎碎念</a> <a href="/tags/%E7%A4%BA%E4%BE%8B/" style="font-size: 10px;">示例</a> <a href="/tags/%E7%A7%91%E6%99%AE/" style="font-size: 10px;">科普</a> <a href="/tags/%E7%A7%BB%E6%B0%91/" style="font-size: 10px;">移民</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 10px;">程序员</a> <a href="/tags/%E7%B2%BE%E7%A5%9E/" style="font-size: 10px;">精神</a> <a href="/tags/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88/" style="font-size: 10px;">经验之谈</a> <a href="/tags/%E7%BB%93%E5%A9%9A/" style="font-size: 10px;">结婚</a> <a href="/tags/%E7%BB%98%E7%94%BB/" style="font-size: 10px;">绘画</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 10px;">编码</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 12.22px;">编程</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 17.78px;">翻译</a> <a href="/tags/%E8%81%8A%E5%A4%A9/" style="font-size: 10px;">聊天</a> <a href="/tags/%E8%87%AA%E6%88%91%E5%AE%8C%E5%96%84/" style="font-size: 10px;">自我完善</a> <a href="/tags/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%85/" style="font-size: 11.11px;">自由开发者</a> <a href="/tags/%E8%8B%A6%E8%A1%8C/" style="font-size: 10px;">苦行</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 11.11px;">英语</a> <a href="/tags/%E8%9B%80%E7%89%99/" style="font-size: 10px;">蛀牙</a> <a href="/tags/%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" style="font-size: 13.33px;">行为驱动开发</a> <a href="/tags/%E8%A7%A3%E7%A0%81/" style="font-size: 10px;">解码</a> <a href="/tags/%E8%A8%80%E6%83%85/" style="font-size: 10px;">言情</a> <a href="/tags/%E8%AE%A1%E5%88%92/" style="font-size: 12.22px;">计划</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E8%AF%97/" style="font-size: 10px;">诗</a> <a href="/tags/%E8%AF%AD%E6%84%8F/" style="font-size: 10px;">语意</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 10px;">语法</a> <a href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" style="font-size: 11.11px;">语法糖</a> <a href="/tags/%E8%AF%AD%E8%A8%80/" style="font-size: 11.11px;">语言</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 10px;">读书</a> <a href="/tags/%E8%B5%84%E6%BA%90/" style="font-size: 10px;">资源</a> <a href="/tags/%E8%BA%AB%E4%BD%93/" style="font-size: 10px;">身体</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E8%89%BA%E5%AE%A3%E8%A8%80/" style="font-size: 10px;">软件工艺宣言</a> <a href="/tags/%E8%BF%9B%E5%8C%96%E5%AD%A6/" style="font-size: 10px;">进化学</a> <a href="/tags/%E9%94%BB%E7%82%BC/" style="font-size: 10px;">锻炼</a> <a href="/tags/%E9%97%AE%E9%A2%98/" style="font-size: 10px;">问题</a> <a href="/tags/%E9%98%85%E8%AF%BB/" style="font-size: 10px;">阅读</a> <a href="/tags/%E9%98%AE%E7%90%A6/" style="font-size: 10px;">阮琦</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">音乐</a> <a href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" style="font-size: 18.89px;">音视频</a> <a href="/tags/%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6/" style="font-size: 10px;">音频文件</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-SurfaceFlinger/">每天一点点音视频_SurfaceFlinger</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-TextureView/">每天一点点音视频_TextureView</a>
          </li>
        
          <li>
            <a href="/%E4%B8%80%E4%B8%AAAndroid%E5%BA%94%E7%94%A8%E4%B8%80%E7%94%9F%E7%9A%84%E5%BC%80%E5%A7%8B/">一个Android应用一生的开始</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-SurfaceTexture/">每天一点点音视频_SurfaceTexture</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-SurfaceView/">每天一点点音视频_SurfaceView</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 金国梁<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>