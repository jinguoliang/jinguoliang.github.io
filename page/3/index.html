<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>空谷之兰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="所有思绪尽归空无，味留一丝芬芳便是兰">
<meta property="og:type" content="website">
<meta property="og:title" content="空谷之兰">
<meta property="og:url" content="https://jinguoliang.github.io/page/3/index.html">
<meta property="og:site_name" content="空谷之兰">
<meta property="og:description" content="所有思绪尽归空无，味留一丝芬芳便是兰">
<meta property="article:author" content="金国梁">
<meta property="article:tag" content="技术">
<meta property="article:tag" content=" 随想">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="空谷之兰" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">空谷之兰</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">思绪肆意流淌之地</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jinguoliang.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-每天一点点音视频-AudioRecorder" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AudioRecorder/" class="article-date">
  <time datetime="2020-03-28T08:58:10.000Z" itemprop="datePublished">2020-3-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AudioRecorder/">每天一点点音视频_AudioRecord</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>AudioRecord 可以说简单的不能再简单了， 作用是从音频输入硬件读取音频数据， 而这个数据就是之前说的 PCM 编码的音频数据。</p>
<p>这个类的使用：</p>
<ol>
<li>创建</li>
<li>开始录制</li>
<li>读取数据</li>
<li>停止录制</li>
</ol>
<p>这里面唯一比较复杂的就是创建的时候， 因为之前我们说道，在编码成PCM信号的时候，有三个参数，采样率，采样位宽，声道。这三个参数决定了1s内数据的大小。</p>
<p>在创建的时候， AudioRecord 还需要一个 Buffer， 而这 buffer 的大小就是由上面的的参数决定的。</p>
<h2 id="为什么需要一个-Buffer？（忘记启动问题模式了）"><a href="#为什么需要一个-Buffer？（忘记启动问题模式了）" class="headerlink" title="为什么需要一个 Buffer？（忘记启动问题模式了）"></a>为什么需要一个 Buffer？（忘记启动问题模式了）</h2><p>因为声音数据是不断采集的，而我们的读取数据的操作可能会间隔一定的时间，假如我们10s读取一次，缓存就应该缓存10s的数据，但是这就导致我们播放时声音延迟了10s，这样说来如果要实现低延迟，甚至是实时的耳反效果，就需要Buffer尽量小，甚至没有， 但是，因为采样率是很高的，一帧的时间很短的，如果我们1帧1帧的传递，花在传递上的时间也会很多，导致达不到希望的采样率。</p>
<p>所以， AuidoRecord 提供了一个获取最小Buffer的大小的方法，由底层决定它。（之前想实现一个耳反，做不到，总会有延迟，据说安卓上用ndk实现会好一些，改天试试）</p>
<h2 id="还有什么高级点的吗"><a href="#还有什么高级点的吗" class="headerlink" title="还有什么高级点的吗"></a>还有什么高级点的吗</h2><p>我发现一个规律， 很多时候，一个类的初始化比较复杂，而操作比较简单，这其实也好厉害，做大量的准备，采取小的行动，产生大的效果。</p>
<p>依赖注入的方式就很能体现这这种方式， 一个类的时候，将需要的某些功能的实现类在构造的时候传入， 之后执行某个行为，就会对各种类做各种操作。（.. 跑题了）</p>
<p>明天： 每天一点点音视频_AudioRecord_补充</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AudioRecorder/" data-id="ck928ujjc0072zmrtgvx10m0z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AudioRecorder/" rel="tag">AudioRecorder</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频-PCM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-PCM/" class="article-date">
  <time datetime="2020-03-27T22:24:44.000Z" itemprop="datePublished">2020-3-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-PCM/">每天一点点音视频_PCM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>WAV 是一种音频文件格式， 类似 MP4，使用中文件传输中的格式， 也就是存在于网络上， 存储器上的样子。</p>
<p>PCM（Pulse Code Modulation， 脉码调制录音） 是编码（一种东西转变成里一种东西）， 是将物理的声波，通过采样，量化后变成的数字信号。这里提及了过程，进而可以提到几个概念</p>
<ol>
<li>采样率， 每秒记录多少次声波的振幅， 越大，就越接近声波的原始的样子</li>
<li>位宽， 对每次的采样量化时，每次的数据的位数， 位数越多， 表示的数越多，也就是表示的不同的振幅越多，越细化</li>
<li>声道， 一般是左右声道，比如有两个麦克风，分别采样，采样后放一块作为一帧</li>
</ol>
<p>有了这三个参数，就可以算出1s钟的 pcm 数据的大小了。</p>
<p>一秒钟采样多少次</p>
<p>每次双声道</p>
<p>每个声道的一次采集的数据为多宽。</p>
<p>明天： 每天一点点音视频_AudioRecord</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-PCM/" data-id="ck928ujjc0070zmrt0o93dhgv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PCM/" rel="tag">PCM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频-音频文件格式概览" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E6%A6%82%E8%A7%88/" class="article-date">
  <time datetime="2020-03-26T09:02:47.000Z" itemprop="datePublished">2020-3-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E6%A6%82%E8%A7%88/">每天一点点音视频_音频文件格式概览</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在反思， 看大的项目的代码，看不下去， 没有反馈， 看书看过就忘， 通过看书， 我总结为，目的性不够， 没有带着问题去看。</p>
<p>我觉得带着问题去读书，去看代码，也符合《Atomic Habits》里的四个步骤：</p>
<ol>
<li>当提出一个问题时， 就是一个信号</li>
<li>人对问题总有种想给个答案的冲动</li>
<li>就去看了</li>
<li>得到答案，满足了</li>
</ol>
<p>甚至可以将带着问题去行动发散到整个生活中。</p>
<p>那今天的问题是啥呢</p>
<h2 id="1-音频文件格式是什么"><a href="#1-音频文件格式是什么" class="headerlink" title="1. 音频文件格式是什么"></a>1. 音频文件格式是什么</h2><p>音频文件是一个文件， 以二进制存储， 二进制有特定的结构， 这种特定的结构就是文件的格式。</p>
<h2 id="2-音频文件到底是什么"><a href="#2-音频文件到底是什么" class="headerlink" title="2. 音频文件到底是什么"></a>2. 音频文件到底是什么</h2><p>音频文件里存储着音频数据， 这些数据可能压缩了，可能没压缩，没压缩就是 PCM(Pulse Code Modulation)， 脉冲编码调制。</p>
<p>压缩，就是使用特定的编码器，对数据进行编码，编码的目的是减小空间占用。</p>
<p>明天： 每天一点点音视频_PCM</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E6%A6%82%E8%A7%88/" data-id="ck928ujjb006xzmrthapxegh0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A3%B0%E9%9F%B3%E7%9A%84%E6%95%B0%E5%AD%97%E5%8C%96/" rel="tag">声音的数字化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%80%9D%E8%80%83/" rel="tag">思考</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%97%AE%E9%A2%98/" rel="tag">问题</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6/" rel="tag">音频文件</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频-AVFrame" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVFrame/" class="article-date">
  <time datetime="2020-03-25T07:50:14.000Z" itemprop="datePublished">2020-3-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVFrame/">每天一点点音视频_AVFrame</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>AVFrame 是一个数据结构，存放解码后的数据，也就是原始数据（Raw Data）， 包括视频数据，音频数据。</p>
<p>(我发现我在这写的，根它的注释很吻合， 这样的话， 工作轻松很多呀)</p>
<p>使用 av_frame_alloc() 创建数据结构， 使用 av_frame_free() 释放， 内部的数据buffer，不会分配</p>
<p>AVFrame 通常被重复使用， 这时候通常使用 av_frame_unref() 来恢复初始状态</p>
<p>（感觉应付事儿了）</p>
<p>明天： 每天一点点音视频_音频文件格式概览</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVFrame/" data-id="ck928ujja006vzmrt0oxabkxz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AVFrame/" rel="tag">AVFrame</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频-AVPacket" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVPacket/" class="article-date">
  <time datetime="2020-03-24T08:33:15.000Z" itemprop="datePublished">2020-3-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVPacket/">每天一点点音视频_AVPacket</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前已经提到了， AVPacket 里存储着压缩后的视频帧数据。现在我们详细来说明以下它的结构, 创建，使用和释放。</p>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p>它的结构主要包括属于那个流，数据， 数据的信息包括大小等。</p>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><pre><code>AVPacket *pkt = av_packet_alloc();</code></pre><h2 id="释放"><a href="#释放" class="headerlink" title="释放"></a>释放</h2><pre><code>av_packet_free(AVPacket **pkt);</code></pre><p>这里需要注意的是， 传的是指针的指针， 这就避免了每次调用了这个方法后自己再置空， 这个方法内部自动做了置空。</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>AVPacket 是一个传递数据的结构， 所以没有专门的操作的方法， 它有一些方便复用的方法， 比如：</p>
<pre><code>AVPacket *av_packet_clone(const AVPacket *src);
int av_copy_packet(AVPacket *dst, const AVPacket *src);
int av_packet_ref(AVPacket *dst, const AVPacket *src);
void av_packet_unref(AVPacket *pkt);</code></pre><p>当然还是有一些其他的方法的， 比如对数据进行压缩的， 对额外数据进行的操作，知道就行。</p>
<p>明天： 每天一点点音视频_AVFrame</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-AVPacket/" data-id="ck928ujj9006szmrtdp4x9qvr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AVPacket/" rel="tag">AVPacket</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频-ffmpeg编码过程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-ffmpeg%E7%BC%96%E7%A0%81%E8%BF%87%E7%A8%8B/" class="article-date">
  <time datetime="2020-03-23T09:16:51.000Z" itemprop="datePublished">2020-3-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-ffmpeg%E7%BC%96%E7%A0%81%E8%BF%87%E7%A8%8B/">每天一点点音视频_ffmpeg编码过程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们在之前的文章中知道， ffmpeg里， 解码后的数据是一个一个的 AVFrame， 我们要对它进行编码， 让它变成 AVPacket， 然后对 AVPacket 打包成一个最终的音视频文件。</p>
<p>我们首先需要一个编码器， 在之前创建解码器的时候，我们是根据 AVPacket 的数据来找特定的编码器的， 但是现在，我们是在编码，我们可以选择特定的编码器。</p>
<pre><code>codec = avcodec_find_encoder(AV_CODEC_ID_MP2);
c = avcodec_alloc_context3(codec);</code></pre><p>因为是在编码，所以我们不仅可以决定编码器，还可以选择不同的参数比如码率，采样率等等。</p>
<p>在设置好参数后，需要执行打开命令</p>
<pre><code>avcodec_open2(c, codec, NULL)</code></pre><p>此时， 编码器准备好了。</p>
<p>剩下的就是给它喂数据，然后等它拉出来了。</p>
<p>先准备输入和输出的数据结构</p>
<pre><code>pkt = av_packet_alloc();
frame = av_frame_alloc();
av_frame_get_buffer(frame, 0);
av_frame_make_writable(frame);</code></pre><p>对于 Frame, 需要填入数据和数据信息</p>
<p>额， 开始琐碎了， 不够抽象了， 花太多时间了。</p>
<p>明天： 每天一点点音视频_AVPacket</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-ffmpeg%E7%BC%96%E7%A0%81%E8%BF%87%E7%A8%8B/" data-id="ck928ujj7006qzmrtac8o0fs4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">编码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-habits" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/habits/" class="article-date">
  <time datetime="2020-03-22T09:44:50.000Z" itemprop="datePublished">2020-3-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/habits/">读《Atomic Habits》- 那些法则</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在看 《Atomic Habits》，英文版的， 读的很慢，每天睡前一小段， 在读的过程常常感叹，说的有道理，想要记录下来，但是却给自己找借口，太晚了，以后会专门记录下来的。甚至还想着能不能翻译整本书，出版呢。这样想起来，感觉有点不可能，完全没有路呀。要联系出版社啥的。</p>
<p>现在，看完了四大法则， 想先把四大法则的后面积累下来的方法记录下来，也算是暂时缓解我的那种渴望。</p>
<p>以下为翻译内容，并且添加了我所理解的内容：</p>
<h2 id="如何创建一个好习惯"><a href="#如何创建一个好习惯" class="headerlink" title="如何创建一个好习惯"></a>如何创建一个好习惯</h2><h3 id="法则1-让它明显"><a href="#法则1-让它明显" class="headerlink" title="法则1 让它明显"></a>法则1 让它明显</h3><h4 id="1-1-填写习惯分数卡。写下自己当前习惯，并关注它们，-对它们是需要加强和减弱做上标记"><a href="#1-1-填写习惯分数卡。写下自己当前习惯，并关注它们，-对它们是需要加强和减弱做上标记" class="headerlink" title="1.1 填写习惯分数卡。写下自己当前习惯，并关注它们， 对它们是需要加强和减弱做上标记"></a>1.1 填写习惯分数卡。写下自己当前习惯，并关注它们， 对它们是需要加强和减弱做上标记</h4><h4 id="1-2-具体到时间地点：-“我会在-什么时候-什么地点-做什么。”"><a href="#1-2-具体到时间地点：-“我会在-什么时候-什么地点-做什么。”" class="headerlink" title="1.2 具体到时间地点： “我会在 什么时候 什么地点 做什么。”"></a>1.2 具体到时间地点： “我会在 什么时候 什么地点 做什么。”</h4><h4 id="1-3-习惯栈：-“在-当前习惯-后做-新习惯。”"><a href="#1-3-习惯栈：-“在-当前习惯-后做-新习惯。”" class="headerlink" title="1.3 习惯栈： “在 当前习惯 后做 新习惯。”"></a>1.3 习惯栈： “在 当前习惯 后做 新习惯。”</h4><h4 id="1-4-设计环境，-让好习惯的提示信息更明显"><a href="#1-4-设计环境，-让好习惯的提示信息更明显" class="headerlink" title="1.4 设计环境， 让好习惯的提示信息更明显"></a>1.4 设计环境， 让好习惯的提示信息更明显</h4><h3 id="法则2-让它更吸引人"><a href="#法则2-让它更吸引人" class="headerlink" title="法则2 让它更吸引人"></a>法则2 让它更吸引人</h3><h4 id="2-1-诱惑绑定。将你想做的行为和你需要做的行为放在一块"><a href="#2-1-诱惑绑定。将你想做的行为和你需要做的行为放在一块" class="headerlink" title="2.1 诱惑绑定。将你想做的行为和你需要做的行为放在一块"></a>2.1 诱惑绑定。将你想做的行为和你需要做的行为放在一块</h4><h4 id="2-2-加入一种文化，-在那里，你所想要做的行为是很普通的行为。-比如去国外环境学英语"><a href="#2-2-加入一种文化，-在那里，你所想要做的行为是很普通的行为。-比如去国外环境学英语" class="headerlink" title="2.2 加入一种文化， 在那里，你所想要做的行为是很普通的行为。 比如去国外环境学英语"></a>2.2 加入一种文化， 在那里，你所想要做的行为是很普通的行为。 比如去国外环境学英语</h4><h4 id="2-3-创建动机仪式。在一个困难的习惯之前做一个自己喜欢的事情。-比如在开始写作之前喝杯奶昔"><a href="#2-3-创建动机仪式。在一个困难的习惯之前做一个自己喜欢的事情。-比如在开始写作之前喝杯奶昔" class="headerlink" title="2.3 创建动机仪式。在一个困难的习惯之前做一个自己喜欢的事情。 比如在开始写作之前喝杯奶昔"></a>2.3 创建动机仪式。在一个困难的习惯之前做一个自己喜欢的事情。 比如在开始写作之前喝杯奶昔</h4><h3 id="法则3-让它更容易"><a href="#法则3-让它更容易" class="headerlink" title="法则3 让它更容易"></a>法则3 让它更容易</h3><h4 id="3-1-减少阻力。减少你和你的习惯之间的步骤。比如你可以选择在房间里原地踏步1万部，而不是出门去体育场跑圈"><a href="#3-1-减少阻力。减少你和你的习惯之间的步骤。比如你可以选择在房间里原地踏步1万部，而不是出门去体育场跑圈" class="headerlink" title="3.1 减少阻力。减少你和你的习惯之间的步骤。比如你可以选择在房间里原地踏步1万部，而不是出门去体育场跑圈"></a>3.1 减少阻力。减少你和你的习惯之间的步骤。比如你可以选择在房间里原地踏步1万部，而不是出门去体育场跑圈</h4><h4 id="3-2-准备好环境。准备好环境让未来要做的习惯更容易，比如睡前倒一杯水放在床头第二天喝"><a href="#3-2-准备好环境。准备好环境让未来要做的习惯更容易，比如睡前倒一杯水放在床头第二天喝" class="headerlink" title="3.2 准备好环境。准备好环境让未来要做的习惯更容易，比如睡前倒一杯水放在床头第二天喝"></a>3.2 准备好环境。准备好环境让未来要做的习惯更容易，比如睡前倒一杯水放在床头第二天喝</h4><h4 id="3-3-掌握小的抉择时刻。优化那些会有很大影响的小的抉择。比如如果知道每次经过面包店闻到香味就想买个面包，可以提前就在选择回家的路时避开那家面包店"><a href="#3-3-掌握小的抉择时刻。优化那些会有很大影响的小的抉择。比如如果知道每次经过面包店闻到香味就想买个面包，可以提前就在选择回家的路时避开那家面包店" class="headerlink" title="3.3 掌握小的抉择时刻。优化那些会有很大影响的小的抉择。比如如果知道每次经过面包店闻到香味就想买个面包，可以提前就在选择回家的路时避开那家面包店"></a>3.3 掌握小的抉择时刻。优化那些会有很大影响的小的抉择。比如如果知道每次经过面包店闻到香味就想买个面包，可以提前就在选择回家的路时避开那家面包店</h4><h4 id="3-4-使用两分钟原则。-缩小你的习惯到两分钟就能完成"><a href="#3-4-使用两分钟原则。-缩小你的习惯到两分钟就能完成" class="headerlink" title="3.4 使用两分钟原则。 缩小你的习惯到两分钟就能完成"></a>3.4 使用两分钟原则。 缩小你的习惯到两分钟就能完成</h4><h4 id="3-5-自动你的习惯。使用技术或者某些一次性购买来避免某个在未来要发生的行为。比如想跟踪自己的习惯，可以使用软件，而只在一周的时候总结"><a href="#3-5-自动你的习惯。使用技术或者某些一次性购买来避免某个在未来要发生的行为。比如想跟踪自己的习惯，可以使用软件，而只在一周的时候总结" class="headerlink" title="3.5 自动你的习惯。使用技术或者某些一次性购买来避免某个在未来要发生的行为。比如想跟踪自己的习惯，可以使用软件，而只在一周的时候总结"></a>3.5 自动你的习惯。使用技术或者某些一次性购买来避免某个在未来要发生的行为。比如想跟踪自己的习惯，可以使用软件，而只在一周的时候总结</h4><h3 id="法则4-让它更满足"><a href="#法则4-让它更满足" class="headerlink" title="法则4 让它更满足"></a>法则4 让它更满足</h3><h4 id="4-1-使用补给品。-当你完成你的习惯时，给自己一个及时的奖励"><a href="#4-1-使用补给品。-当你完成你的习惯时，给自己一个及时的奖励" class="headerlink" title="4.1 使用补给品。 当你完成你的习惯时，给自己一个及时的奖励"></a>4.1 使用补给品。 当你完成你的习惯时，给自己一个及时的奖励</h4><h4 id="4-2-让-“不做事情”-变得有趣。当避免了一个坏习惯时，-设计一种方式可以看到好处。比如每当想要抽烟时，给自己10块钱，去买自己想买的东西（除了烟）"><a href="#4-2-让-“不做事情”-变得有趣。当避免了一个坏习惯时，-设计一种方式可以看到好处。比如每当想要抽烟时，给自己10块钱，去买自己想买的东西（除了烟）" class="headerlink" title="4.2 让 “不做事情” 变得有趣。当避免了一个坏习惯时， 设计一种方式可以看到好处。比如每当想要抽烟时，给自己10块钱，去买自己想买的东西（除了烟）"></a>4.2 让 “不做事情” 变得有趣。当避免了一个坏习惯时， 设计一种方式可以看到好处。比如每当想要抽烟时，给自己10块钱，去买自己想买的东西（除了烟）</h4><h4 id="4-3-使用习惯追踪器。保持追踪你的习惯，-“不要断了”"><a href="#4-3-使用习惯追踪器。保持追踪你的习惯，-“不要断了”" class="headerlink" title="4.3 使用习惯追踪器。保持追踪你的习惯， “不要断了”"></a>4.3 使用习惯追踪器。保持追踪你的习惯， “不要断了”</h4><h4 id="4-4-永远不要错过两次。当你忘记做某个习惯时，赶紧回来"><a href="#4-4-永远不要错过两次。当你忘记做某个习惯时，赶紧回来" class="headerlink" title="4.4 永远不要错过两次。当你忘记做某个习惯时，赶紧回来"></a>4.4 永远不要错过两次。当你忘记做某个习惯时，赶紧回来</h4><h2 id="如何戒掉坏习惯"><a href="#如何戒掉坏习惯" class="headerlink" title="如何戒掉坏习惯"></a>如何戒掉坏习惯</h2><h3 id="反转法则1-让它不可见"><a href="#反转法则1-让它不可见" class="headerlink" title="反转法则1 让它不可见"></a>反转法则1 让它不可见</h3><h4 id="1-5-在你的环境中减少坏习惯的提示"><a href="#1-5-在你的环境中减少坏习惯的提示" class="headerlink" title="1.5 在你的环境中减少坏习惯的提示"></a>1.5 在你的环境中减少坏习惯的提示</h4><h3 id="反转法则2-让它不吸引人"><a href="#反转法则2-让它不吸引人" class="headerlink" title="反转法则2 让它不吸引人"></a>反转法则2 让它不吸引人</h3><h4 id="2-4-重组思维。强调避免坏习惯后的好处"><a href="#2-4-重组思维。强调避免坏习惯后的好处" class="headerlink" title="2.4 重组思维。强调避免坏习惯后的好处"></a>2.4 重组思维。强调避免坏习惯后的好处</h4><h3 id="反转法则3-让它更困难"><a href="#反转法则3-让它更困难" class="headerlink" title="反转法则3 让它更困难"></a>反转法则3 让它更困难</h3><h4 id="3-6-增加阻力。增加你和你的坏习惯的步骤。比如不买烟，或者，把烟放在一个盒子里，然后所在箱子里，然后所在立橱里"><a href="#3-6-增加阻力。增加你和你的坏习惯的步骤。比如不买烟，或者，把烟放在一个盒子里，然后所在箱子里，然后所在立橱里" class="headerlink" title="3.6 增加阻力。增加你和你的坏习惯的步骤。比如不买烟，或者，把烟放在一个盒子里，然后所在箱子里，然后所在立橱里"></a>3.6 增加阻力。增加你和你的坏习惯的步骤。比如不买烟，或者，把烟放在一个盒子里，然后所在箱子里，然后所在立橱里</h4><h4 id="3-7-使用一个委托设备。限制你的未来选择，从而只能选择有利的。比如手机可以设置在几点到几点静音，如果静音需要负责的操作，就更好了"><a href="#3-7-使用一个委托设备。限制你的未来选择，从而只能选择有利的。比如手机可以设置在几点到几点静音，如果静音需要负责的操作，就更好了" class="headerlink" title="3.7 使用一个委托设备。限制你的未来选择，从而只能选择有利的。比如手机可以设置在几点到几点静音，如果静音需要负责的操作，就更好了"></a>3.7 使用一个委托设备。限制你的未来选择，从而只能选择有利的。比如手机可以设置在几点到几点静音，如果静音需要负责的操作，就更好了</h4><h3 id="反转规则4-让它不满足"><a href="#反转规则4-让它不满足" class="headerlink" title="反转规则4 让它不满足"></a>反转规则4 让它不满足</h3><h4 id="4-5-找一个有责任的同伴。让它观察你的行为。我觉得作为up主，让粉丝监督就可以"><a href="#4-5-找一个有责任的同伴。让它观察你的行为。我觉得作为up主，让粉丝监督就可以" class="headerlink" title="4.5 找一个有责任的同伴。让它观察你的行为。我觉得作为up主，让粉丝监督就可以"></a>4.5 找一个有责任的同伴。让它观察你的行为。我觉得作为up主，让粉丝监督就可以</h4><h4 id="4-6-创建习惯协议。让你的坏习惯的代价公开并且让你感到痛苦。比如坏习惯一旦出现就给粉丝发放福利"><a href="#4-6-创建习惯协议。让你的坏习惯的代价公开并且让你感到痛苦。比如坏习惯一旦出现就给粉丝发放福利" class="headerlink" title="4.6 创建习惯协议。让你的坏习惯的代价公开并且让你感到痛苦。比如坏习惯一旦出现就给粉丝发放福利"></a>4.6 创建习惯协议。让你的坏习惯的代价公开并且让你感到痛苦。比如坏习惯一旦出现就给粉丝发放福利</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/habits/" data-id="ck928ujj5006lzmrtc2xfdbh5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Atomic-Habits/" rel="tag">Atomic Habits</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B9%A0%E6%83%AF/" rel="tag">习惯</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频相关-第一周总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-%E7%AC%AC%E4%B8%80%E5%91%A8%E6%80%BB%E7%BB%93/" class="article-date">
  <time datetime="2020-03-22T09:14:55.000Z" itemprop="datePublished">2020-3-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-%E7%AC%AC%E4%B8%80%E5%91%A8%E6%80%BB%E7%BB%93/">每天一点点音视频相关_第一周总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不知不觉，这个系列已经一周了，虽然现在记录下来的都是写皮毛，蜻蜓点水的知识，但是还是很有成就感的。毕竟每天坚持一件事，并且跟踪进度，就是一件很有成就感的事情。</p>
<p>这周学习了软解码的过程， 特别讲解了 ffmpeg 解码的过程。</p>
<p>下周主要学习： ffmpeg 的编码过程， Andrid上的硬编解码</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-%E7%AC%AC%E4%B8%80%E5%91%A8%E6%80%BB%E7%BB%93/" data-id="ck928ujj6006nzmrt9sa5g1n2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9/" rel="tag">每天一点点</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频相关-ffmpeg-解包器和解码器连接" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg-%E8%A7%A3%E5%8C%85%E5%99%A8%E5%92%8C%E8%A7%A3%E7%A0%81%E5%99%A8%E8%BF%9E%E6%8E%A5/" class="article-date">
  <time datetime="2020-03-21T08:41:00.000Z" itemprop="datePublished">2020-3-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg-%E8%A7%A3%E5%8C%85%E5%99%A8%E5%92%8C%E8%A7%A3%E7%A0%81%E5%99%A8%E8%BF%9E%E6%8E%A5/">每天一点点音视频相关_ffmpeg_解包器和解码器连接</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们之前通过 AVFormatContext 创建并打开了一个音视频文件， 获取到特定的流， 然后通过 av_read_frame 从其中获取一个一个的包， 这些包里存储的是编码的数据。</p>
<p>然后，我们又通过 AVFormatContext 获取到流所需要的解码器 AVCodecContext， 这时候我们就可以将包数据喂给解码器，然后就得到了解码后的数据。</p>
<p>下面是解码的一帧的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">frame &#x3D; av_frame_alloc();</span><br><span class="line"></span><br><span class="line">ret &#x3D; avcodec_send_packet(dec_ctx, pkt);</span><br><span class="line">if (ret &lt; 0) &#123;</span><br><span class="line">    fprintf(stderr, &quot;Error sending a packet for decoding\n&quot;);</span><br><span class="line">    exit(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">while (ret &gt;&#x3D; 0) &#123;</span><br><span class="line">    ret &#x3D; avcodec_receive_frame(dec_ctx, frame);</span><br><span class="line">    if (ret &#x3D;&#x3D; AVERROR(EAGAIN) || ret &#x3D;&#x3D; AVERROR_EOF)</span><br><span class="line">        return;</span><br><span class="line">    else if (ret &lt; 0) &#123;</span><br><span class="line">        fprintf(stderr, &quot;Error during decoding\n&quot;);</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 获取到解码后的帧数据</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>首先，可以看到初始化了一个解码后的帧数据结构， 然后通过 avcodec_send_packet 给解码器喂食为解码的数据包， 然后它就会拉出解码后的数据， 可以看出，为给它一次，它可能会拉出几坨，当然，也可能一坨都没有， 那就再唯。</p>
<p>这种机制根 Android 的 MediaCodec 是相同的， 应该也是音视频文件的数据结构所决定的。也就是一个包的数据和一个帧的数据并不是一一对一个的，而更像是一种多对多的关系。这种方式，最好的操作方式还是流的操作方式，就是喂的只管喂，拉的只管拉。详细的后面将 MediaCodec的时候再说。</p>
<p>明天： 每天一点点音视频相关_第一周总结</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg-%E8%A7%A3%E5%8C%85%E5%99%A8%E5%92%8C%E8%A7%A3%E7%A0%81%E5%99%A8%E8%BF%9E%E6%8E%A5/" data-id="ck928ujj2006jzmrtesqh4zpe" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%A7%A3%E7%A0%81/" rel="tag">解码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-每天一点点音视频相关-ffmpeg解码器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg%E8%A7%A3%E7%A0%81%E5%99%A8/" class="article-date">
  <time datetime="2020-03-20T08:49:30.000Z" itemprop="datePublished">2020-3-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg%E8%A7%A3%E7%A0%81%E5%99%A8/">每天一点点音视频相关_ffmpeg解码器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>接上一节， 我们得到了一个一个的 packet</p>
<p>接下来，按照c程序的套路， 先把编码器的数据结构创建好：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">AVCodecParameters *pParameters = format_context-&gt;streams[video_index]-&gt;codecpar;</span><br><span class="line">video_codec = avcodec_find_decoder(fpParameters-&gt;codec_id);</span><br><span class="line">video_codec_ctx = avcodec_alloc_context3(video_codec);</span><br><span class="line">avcodec_parameters_to_context(video_codec_ctx,</span><br><span class="line">                                pParameters);</span><br><span class="line">AVDictionary *options = <span class="literal">NULL</span>;</span><br><span class="line">av_dict_set(&amp;options, <span class="string">"threads"</span>, <span class="string">"auto"</span>, <span class="number">0</span>);</span><br><span class="line">av_dict_set(&amp;options, <span class="string">"refcounted_frames"</span>, <span class="string">"1"</span>, <span class="number">0</span>);</span><br><span class="line">avcodec_open2(video_codec_ctx, video_codec, &amp;options)</span><br><span class="line">AVFrame * decode_frame = av_frame_alloc();</span><br><span class="line"></span><br><span class="line">avcodec_free_context(&amp;video_codec_ctx);</span><br></pre></td></tr></table></figure>

<ol>
<li>创建编码器的数据结构 AVCodecContext</li>
<li>从流里拿到编码参数，根据编码参数里的编码器id获取到编码器</li>
<li>使用编码器参数初始化 AVCodecContext</li>
<li>初始化 AVCodecContext 来使用前面的到的编码器</li>
<li>用完记得释放</li>
</ol>
<p>这里有两点疑问：</p>
<ol>
<li>为什么方法名后有个数字</li>
<li>为什么创建数据结构和打开操作的时候都传 video_codec, 注释说两个必须一致</li>
</ol>
<p>今天完成了编码器数据结构的初始化，还是比较复杂的</p>
<p>明天： 每天一点点音视频相关_ffmpeg_解包器和解码器连接</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jinguoliang.github.io/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B8%E5%85%B3-ffmpeg%E8%A7%A3%E7%A0%81%E5%99%A8/" data-id="ck928ujj1006fzmrtauky21vx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/decoder/" rel="tag">decoder</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E7%94%9F/">人生</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E4%BD%9C/">工作</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/">碎碎念</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B5%84%E6%BA%90/">资源</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/">转载</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E5%8A%A8/">运动</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AAR/" rel="tag">AAR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AVFrame/" rel="tag">AVFrame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AVPacket/" rel="tag">AVPacket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-Studio/" rel="tag">Android Studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/App/" rel="tag">App</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Atomic-Habits/" rel="tag">Atomic Habits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AtomicHabits/" rel="tag">AtomicHabits</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioRecord/" rel="tag">AudioRecord</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioRecorder/" rel="tag">AudioRecorder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AudioTrack/" rel="tag">AudioTrack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BDD/" rel="tag">BDD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BufferQueue/" rel="tag">BufferQueue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPIO/" rel="tag">CPIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Camera/" rel="tag">Camera</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Camera2/" rel="tag">Camera2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Graphics/" rel="tag">Graphics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Intent/" rel="tag">Intent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jekyll/" rel="tag">Jekyll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotlin/" rel="tag">Kotlin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaCodec/" rel="tag">MediaCodec</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaExtractor/" rel="tag">MediaExtractor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaMuxer/" rel="tag">MediaMuxer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL/" rel="tag">OpenGL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PCM/" rel="tag">PCM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PendingIntent/" rel="tag">PendingIntent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QueueWorker/" rel="tag">QueueWorker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RPM/" rel="tag">RPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Root/" rel="tag">Root</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharedPrefenrences/" rel="tag">SharedPrefenrences</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharedPreferences/" rel="tag">SharedPreferences</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Surface/" rel="tag">Surface</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIM/" rel="tag">VIM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebDriver/" rel="tag">WebDriver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decoder/" rel="tag">decoder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nio/" rel="tag">nio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/repo/" rel="tag">repo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/" rel="tag">zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%A4%E6%80%A7/" rel="tag">两性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%A0%E6%83%AF/" rel="tag">习惯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%A0%E8%AF%AD/" rel="tag">习语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E7%94%9F/" rel="tag">人生</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8A%E6%97%A5%E8%AE%B0/" rel="tag">今日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%B0%E5%8D%A7%E8%B5%B7%E5%9D%90/" rel="tag">仰卧起坐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%81%A5%E5%BA%B7/" rel="tag">健康</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%99%E4%BD%9C/" rel="tag">写作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E6%80%9D/" rel="tag">反思</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%A3%E5%8F%B7/" rel="tag">口号</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%89%E4%BB%96/" rel="tag">吉他</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8C%E5%AD%A6/" rel="tag">同学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9D%9A%E6%8C%81/" rel="tag">坚持</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E6%B3%A2/" rel="tag">声波</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E9%9F%B3%E7%9A%84%E6%95%B0%E5%AD%97%E5%8C%96/" rel="tag">声音的数字化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E8%84%91/" rel="tag">大脑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8/" rel="tag">存储</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E6%97%B6%E5%80%99/" rel="tag">小时候</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%AF%B4/" rel="tag">小说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C/" rel="tag">工作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E7%BA%AA/" rel="tag">年纪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%A7%8B/" rel="tag">开始</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E6%B5%81/" rel="tag">心流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E7%90%86%E5%AD%A6/" rel="tag">心理学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E6%83%B3/" rel="tag">思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E8%80%83/" rel="tag">思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E8%80%83%E6%80%BB%E7%BB%93/" rel="tag">思考总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%81%8B%E7%88%B1/" rel="tag">恋爱</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A7%E5%88%B6/" rel="tag">控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%AD%E8%AE%AA/" rel="tag">搭讪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B4%E7%90%86/" rel="tag">整理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" rel="tag">文件格式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%AD%E8%88%8D%E7%A6%BB/" rel="tag">断舍离</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95/" rel="tag">方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E5%AD%A6/" rel="tag">方法学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E8%AE%BA/" rel="tag">方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%85%E6%B8%B8/" rel="tag">旅游</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E7%85%A7/" rel="tag">日照</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" rel="tag">时间管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%91%E4%B8%8A%E6%98%A5%E6%A0%91/" rel="tag">村上春树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%81%E7%AE%80%E7%94%9F%E6%B4%BB/" rel="tag">极简生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A2%A6%E6%83%B3/" rel="tag">梦想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E4%BB%BF/" rel="tag">模仿</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%85%E5%8A%9B/" rel="tag">毅力</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9/" rel="tag">每天一点点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" rel="tag">测试驱动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81/" rel="tag">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%83%AD%E7%82%B9/" rel="tag">热点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8A%B6%E6%80%81/" rel="tag">状态</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%8B%E5%B0%8F%E6%B3%A2/" rel="tag">王小波</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%90%90%E4%BA%8B/" rel="tag">琐事</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%AD%BB/" rel="tag">生死</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E7%90%86%E5%AD%A6/" rel="tag">生理学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E7%9A%84/" rel="tag">目的</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E6%9C%BA/" rel="tag">相机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9C%9F%E5%AE%9E/" rel="tag">真实</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9D%A1%E8%A7%89/" rel="tag">睡觉</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" rel="tag">碎碎念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A4%BA%E4%BE%8B/" rel="tag">示例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%91%E6%99%AE/" rel="tag">科普</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%BB%E6%B0%91/" rel="tag">移民</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" rel="tag">程序员</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B2%BE%E7%A5%9E/" rel="tag">精神</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88/" rel="tag">经验之谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%93%E5%A9%9A/" rel="tag">结婚</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%98%E7%94%BB/" rel="tag">绘画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%8A%E5%A4%A9/" rel="tag">聊天</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E6%88%91%E5%AE%8C%E5%96%84/" rel="tag">自我完善</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%85/" rel="tag">自由开发者</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%A6%E8%A1%8C/" rel="tag">苦行</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%9B%80%E7%89%99/" rel="tag">蛀牙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" rel="tag">行为驱动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%A3%E7%A0%81/" rel="tag">解码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%80%E6%83%85/" rel="tag">言情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E5%88%92/" rel="tag">计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%97/" rel="tag">诗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%84%8F/" rel="tag">语意</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag">语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" rel="tag">语法糖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B5%84%E6%BA%90/" rel="tag">资源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BA%AB%E4%BD%93/" rel="tag">身体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E8%89%BA%E5%AE%A3%E8%A8%80/" rel="tag">软件工艺宣言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E5%8C%96%E5%AD%A6/" rel="tag">进化学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%BB%E7%82%BC/" rel="tag">锻炼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98/" rel="tag">问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%85%E8%AF%BB/" rel="tag">阅读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%AE%E7%90%A6/" rel="tag">阮琦</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E4%B9%90/" rel="tag">音乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6/" rel="tag">音频文件</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AAR/" style="font-size: 10px;">AAR</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AVFrame/" style="font-size: 10px;">AVFrame</a> <a href="/tags/AVPacket/" style="font-size: 10px;">AVPacket</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-Studio/" style="font-size: 10px;">Android Studio</a> <a href="/tags/App/" style="font-size: 10px;">App</a> <a href="/tags/Atomic-Habits/" style="font-size: 10px;">Atomic Habits</a> <a href="/tags/AtomicHabits/" style="font-size: 10px;">AtomicHabits</a> <a href="/tags/AudioRecord/" style="font-size: 11.25px;">AudioRecord</a> <a href="/tags/AudioRecorder/" style="font-size: 10px;">AudioRecorder</a> <a href="/tags/AudioTrack/" style="font-size: 11.25px;">AudioTrack</a> <a href="/tags/BDD/" style="font-size: 13.75px;">BDD</a> <a href="/tags/BufferQueue/" style="font-size: 10px;">BufferQueue</a> <a href="/tags/C/" style="font-size: 11.25px;">C</a> <a href="/tags/CPIO/" style="font-size: 10px;">CPIO</a> <a href="/tags/Camera/" style="font-size: 10px;">Camera</a> <a href="/tags/Camera2/" style="font-size: 10px;">Camera2</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/Graphics/" style="font-size: 15px;">Graphics</a> <a href="/tags/Intent/" style="font-size: 10px;">Intent</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jekyll/" style="font-size: 10px;">Jekyll</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Kotlin/" style="font-size: 12.5px;">Kotlin</a> <a href="/tags/MediaCodec/" style="font-size: 16.25px;">MediaCodec</a> <a href="/tags/MediaExtractor/" style="font-size: 10px;">MediaExtractor</a> <a href="/tags/MediaMuxer/" style="font-size: 10px;">MediaMuxer</a> <a href="/tags/OpenGL/" style="font-size: 18.75px;">OpenGL</a> <a href="/tags/PCM/" style="font-size: 10px;">PCM</a> <a href="/tags/PendingIntent/" style="font-size: 10px;">PendingIntent</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/QueueWorker/" style="font-size: 10px;">QueueWorker</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Root/" style="font-size: 10px;">Root</a> <a href="/tags/SharedPrefenrences/" style="font-size: 10px;">SharedPrefenrences</a> <a href="/tags/SharedPreferences/" style="font-size: 10px;">SharedPreferences</a> <a href="/tags/Surface/" style="font-size: 11.25px;">Surface</a> <a href="/tags/TDD/" style="font-size: 13.75px;">TDD</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VIM/" style="font-size: 10px;">VIM</a> <a href="/tags/WebDriver/" style="font-size: 10px;">WebDriver</a> <a href="/tags/decoder/" style="font-size: 10px;">decoder</a> <a href="/tags/ffmpeg/" style="font-size: 17.5px;">ffmpeg</a> <a href="/tags/git/" style="font-size: 11.25px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/nio/" style="font-size: 10px;">nio</a> <a href="/tags/repo/" style="font-size: 10px;">repo</a> <a href="/tags/zsh/" style="font-size: 10px;">zsh</a> <a href="/tags/%E4%B8%A4%E6%80%A7/" style="font-size: 10px;">两性</a> <a href="/tags/%E4%B9%A0%E6%83%AF/" style="font-size: 10px;">习惯</a> <a href="/tags/%E4%B9%A0%E8%AF%AD/" style="font-size: 11.25px;">习语</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 10px;">人生</a> <a href="/tags/%E4%BB%8A%E6%97%A5%E8%AE%B0/" style="font-size: 10px;">今日记</a> <a href="/tags/%E4%BB%B0%E5%8D%A7%E8%B5%B7%E5%9D%90/" style="font-size: 10px;">仰卧起坐</a> <a href="/tags/%E5%81%A5%E5%BA%B7/" style="font-size: 11.25px;">健康</a> <a href="/tags/%E5%86%99%E4%BD%9C/" style="font-size: 11.25px;">写作</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a> <a href="/tags/%E5%8F%8D%E6%80%9D/" style="font-size: 10px;">反思</a> <a href="/tags/%E5%8F%A3%E5%8F%B7/" style="font-size: 10px;">口号</a> <a href="/tags/%E5%90%89%E4%BB%96/" style="font-size: 10px;">吉他</a> <a href="/tags/%E5%90%8C%E5%AD%A6/" style="font-size: 10px;">同学</a> <a href="/tags/%E5%9D%9A%E6%8C%81/" style="font-size: 10px;">坚持</a> <a href="/tags/%E5%A3%B0%E6%B3%A2/" style="font-size: 12.5px;">声波</a> <a href="/tags/%E5%A3%B0%E9%9F%B3%E7%9A%84%E6%95%B0%E5%AD%97%E5%8C%96/" style="font-size: 10px;">声音的数字化</a> <a href="/tags/%E5%A4%A7%E8%84%91/" style="font-size: 10px;">大脑</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 10px;">存储</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 12.5px;">学习</a> <a href="/tags/%E5%B0%8F%E6%97%B6%E5%80%99/" style="font-size: 10px;">小时候</a> <a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 10px;">小说</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 12.5px;">工作</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 11.25px;">工具</a> <a href="/tags/%E5%B9%B4%E7%BA%AA/" style="font-size: 10px;">年纪</a> <a href="/tags/%E5%BC%80%E5%A7%8B/" style="font-size: 10px;">开始</a> <a href="/tags/%E5%BF%83%E6%B5%81/" style="font-size: 10px;">心流</a> <a href="/tags/%E5%BF%83%E7%90%86%E5%AD%A6/" style="font-size: 11.25px;">心理学</a> <a href="/tags/%E6%80%9D%E6%83%B3/" style="font-size: 10px;">思想</a> <a href="/tags/%E6%80%9D%E8%80%83/" style="font-size: 15px;">思考</a> <a href="/tags/%E6%80%9D%E8%80%83%E6%80%BB%E7%BB%93/" style="font-size: 12.5px;">思考总结</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 10px;">总结</a> <a href="/tags/%E6%81%8B%E7%88%B1/" style="font-size: 10px;">恋爱</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">技术</a> <a href="/tags/%E6%8E%A7%E5%88%B6/" style="font-size: 10px;">控制</a> <a href="/tags/%E6%90%AD%E8%AE%AA/" style="font-size: 10px;">搭讪</a> <a href="/tags/%E6%95%B4%E7%90%86/" style="font-size: 10px;">整理</a> <a href="/tags/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" style="font-size: 10px;">文件格式</a> <a href="/tags/%E6%96%AD%E8%88%8D%E7%A6%BB/" style="font-size: 10px;">断舍离</a> <a href="/tags/%E6%96%B9%E6%B3%95/" style="font-size: 10px;">方法</a> <a href="/tags/%E6%96%B9%E6%B3%95%E5%AD%A6/" style="font-size: 10px;">方法学</a> <a href="/tags/%E6%96%B9%E6%B3%95%E8%AE%BA/" style="font-size: 10px;">方法论</a> <a href="/tags/%E6%97%85%E6%B8%B8/" style="font-size: 11.25px;">旅游</a> <a href="/tags/%E6%97%A5%E7%85%A7/" style="font-size: 10px;">日照</a> <a href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/" style="font-size: 10px;">时间管理</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10px;">服务器</a> <a href="/tags/%E6%9D%91%E4%B8%8A%E6%98%A5%E6%A0%91/" style="font-size: 10px;">村上春树</a> <a href="/tags/%E6%9E%81%E7%AE%80%E7%94%9F%E6%B4%BB/" style="font-size: 10px;">极简生活</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/tags/%E6%A2%A6%E6%83%B3/" style="font-size: 10px;">梦想</a> <a href="/tags/%E6%A8%A1%E4%BB%BF/" style="font-size: 10px;">模仿</a> <a href="/tags/%E6%AF%85%E5%8A%9B/" style="font-size: 10px;">毅力</a> <a href="/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9/" style="font-size: 10px;">每天一点点</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" style="font-size: 13.75px;">测试驱动开发</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 11.25px;">源码</a> <a href="/tags/%E7%83%AD%E7%82%B9/" style="font-size: 10px;">热点</a> <a href="/tags/%E7%8A%B6%E6%80%81/" style="font-size: 10px;">状态</a> <a href="/tags/%E7%8E%8B%E5%B0%8F%E6%B3%A2/" style="font-size: 10px;">王小波</a> <a href="/tags/%E7%90%90%E4%BA%8B/" style="font-size: 10px;">琐事</a> <a href="/tags/%E7%94%9F%E6%AD%BB/" style="font-size: 10px;">生死</a> <a href="/tags/%E7%94%9F%E7%90%86%E5%AD%A6/" style="font-size: 10px;">生理学</a> <a href="/tags/%E7%9B%AE%E7%9A%84/" style="font-size: 10px;">目的</a> <a href="/tags/%E7%9B%B8%E6%9C%BA/" style="font-size: 10px;">相机</a> <a href="/tags/%E7%9C%9F%E5%AE%9E/" style="font-size: 10px;">真实</a> <a href="/tags/%E7%9D%A1%E8%A7%89/" style="font-size: 10px;">睡觉</a> <a href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" style="font-size: 12.5px;">碎碎念</a> <a href="/tags/%E7%A4%BA%E4%BE%8B/" style="font-size: 10px;">示例</a> <a href="/tags/%E7%A7%91%E6%99%AE/" style="font-size: 10px;">科普</a> <a href="/tags/%E7%A7%BB%E6%B0%91/" style="font-size: 10px;">移民</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 10px;">程序员</a> <a href="/tags/%E7%B2%BE%E7%A5%9E/" style="font-size: 10px;">精神</a> <a href="/tags/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88/" style="font-size: 10px;">经验之谈</a> <a href="/tags/%E7%BB%93%E5%A9%9A/" style="font-size: 10px;">结婚</a> <a href="/tags/%E7%BB%98%E7%94%BB/" style="font-size: 10px;">绘画</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 10px;">编码</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 12.5px;">编程</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 18.75px;">翻译</a> <a href="/tags/%E8%81%8A%E5%A4%A9/" style="font-size: 10px;">聊天</a> <a href="/tags/%E8%87%AA%E6%88%91%E5%AE%8C%E5%96%84/" style="font-size: 10px;">自我完善</a> <a href="/tags/%E8%87%AA%E7%94%B1%E5%BC%80%E5%8F%91%E8%80%85/" style="font-size: 11.25px;">自由开发者</a> <a href="/tags/%E8%8B%A6%E8%A1%8C/" style="font-size: 10px;">苦行</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 11.25px;">英语</a> <a href="/tags/%E8%9B%80%E7%89%99/" style="font-size: 10px;">蛀牙</a> <a href="/tags/%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/" style="font-size: 13.75px;">行为驱动开发</a> <a href="/tags/%E8%A7%A3%E7%A0%81/" style="font-size: 10px;">解码</a> <a href="/tags/%E8%A8%80%E6%83%85/" style="font-size: 10px;">言情</a> <a href="/tags/%E8%AE%A1%E5%88%92/" style="font-size: 12.5px;">计划</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E8%AF%97/" style="font-size: 10px;">诗</a> <a href="/tags/%E8%AF%AD%E6%84%8F/" style="font-size: 10px;">语意</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 10px;">语法</a> <a href="/tags/%E8%AF%AD%E6%B3%95%E7%B3%96/" style="font-size: 11.25px;">语法糖</a> <a href="/tags/%E8%AF%AD%E8%A8%80/" style="font-size: 11.25px;">语言</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 10px;">读书</a> <a href="/tags/%E8%B5%84%E6%BA%90/" style="font-size: 10px;">资源</a> <a href="/tags/%E8%BA%AB%E4%BD%93/" style="font-size: 10px;">身体</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E8%89%BA%E5%AE%A3%E8%A8%80/" style="font-size: 10px;">软件工艺宣言</a> <a href="/tags/%E8%BF%9B%E5%8C%96%E5%AD%A6/" style="font-size: 10px;">进化学</a> <a href="/tags/%E9%94%BB%E7%82%BC/" style="font-size: 10px;">锻炼</a> <a href="/tags/%E9%97%AE%E9%A2%98/" style="font-size: 10px;">问题</a> <a href="/tags/%E9%98%85%E8%AF%BB/" style="font-size: 10px;">阅读</a> <a href="/tags/%E9%98%AE%E7%90%A6/" style="font-size: 10px;">阮琦</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">音乐</a> <a href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" style="font-size: 20px;">音视频</a> <a href="/tags/%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6/" style="font-size: 10px;">音频文件</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-Surface%E5%92%8CSurfaceHolder/">每天一点点音视频_Surface和SurfaceHolder</a>
          </li>
        
          <li>
            <a href="/%E7%BB%8F%E9%AA%8C%E4%B9%8B%E8%B0%88-Camera2%E7%9A%84%E8%BE%93%E5%87%BA%E5%9B%BE%E5%83%8F%E5%A4%A7%E5%B0%8F%E7%9A%84%E7%A1%AE%E5%AE%9A/">经验之谈_Camera2的输出图像大小的确定</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-BufferQueue/">每天一点点音视频_BufferQueue</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-Graphics%E6%9E%B6%E6%9E%84/">每天一点点音视频_Graphics架构</a>
          </li>
        
          <li>
            <a href="/%E6%AF%8F%E5%A4%A9%E4%B8%80%E7%82%B9%E7%82%B9%E9%9F%B3%E8%A7%86%E9%A2%91-Graphics%E6%95%B0%E6%8D%AE%E6%B5%81/">每天一点点音视频_Graphics数据流</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 金国梁<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>